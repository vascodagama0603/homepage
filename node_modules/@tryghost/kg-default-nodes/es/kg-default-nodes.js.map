{"version":3,"file":"kg-default-nodes.js","sources":["../lib/KoenigDecoratorNode.js","../lib/utils/build-clean-basic-html-for-element.js","../lib/utils/read-caption-from-element.js","../lib/utils/read-image-attributes-from-element.js","../lib/nodes/image/ImageParser.js","../lib/utils/get-available-image-widths.js","../lib/utils/is-local-content-image.js","../lib/utils/is-unsplash-image.js","../lib/utils/srcset-attribute.js","../lib/utils/resize-image.js","../lib/utils/add-create-document-option.js","../lib/nodes/image/ImageRenderer.js","../lib/nodes/image/ImageNode.js","../lib/nodes/codeblock/CodeBlockParser.js","../lib/nodes/codeblock/CodeBlockRenderer.js","../lib/nodes/codeblock/CodeBlockNode.js","../lib/nodes/markdown/MarkdownRenderer.js","../lib/nodes/markdown/MarkdownNode.js","../lib/nodes/video/VideoParser.js","../lib/nodes/video/VideoRenderer.js","../lib/nodes/video/VideoNode.js","../lib/nodes/audio/AudioParser.js","../lib/nodes/audio/AudioRenderer.js","../lib/nodes/audio/AudioNode.js","../lib/nodes/callout/CalloutRenderer.js","../lib/nodes/callout/CalloutParser.js","../lib/nodes/callout/CalloutNode.js","../lib/nodes/aside/AsideParser.js","../lib/nodes/aside/AsideNode.js","../lib/nodes/horizontalrule/HorizontalRuleRenderer.js","../lib/nodes/horizontalrule/HorizontalRuleParser.js","../lib/nodes/horizontalrule/HorizontalRuleNode.js","../lib/nodes/html/HtmlRenderer.js","../lib/nodes/html/HtmlParser.js","../lib/nodes/html/HtmlNode.js","../lib/nodes/toggle/ToggleParser.js","../lib/nodes/toggle/ToggleRenderer.js","../lib/nodes/toggle/ToggleNode.js","../lib/nodes/button/ButtonParser.js","../lib/nodes/button/ButtonRenderer.js","../lib/nodes/button/ButtonNode.js","../lib/nodes/bookmark/BookmarkParser.js","../lib/nodes/bookmark/BookmarkRenderer.js","../lib/nodes/bookmark/BookmarkNode.js","../lib/nodes/file/FileRenderer.js","../lib/nodes/file/FileParser.js","../lib/nodes/file/FileNode.js","../lib/nodes/header/HeaderRenderer.js","../lib/nodes/header/HeaderParser.js","../lib/nodes/header/HeaderNode.js","../lib/nodes/paywall/PaywallParser.js","../lib/nodes/paywall/PaywallRenderer.js","../lib/nodes/paywall/PaywallNode.js","../lib/nodes/product/ProductParser.js","../lib/nodes/product/ProductRenderer.js","../lib/nodes/product/ProductNode.js","../lib/nodes/embed/EmbedParser.js","../lib/nodes/embed/types/twitter.js","../lib/nodes/embed/EmbedRenderer.js","../lib/nodes/embed/EmbedNode.js","../lib/utils/replacement-strings.js","../lib/nodes/email/EmailRenderer.js","../lib/nodes/email/EmailNode.js","../lib/nodes/gallery/GalleryParser.js","../lib/nodes/gallery/GalleryRenderer.js","../lib/nodes/gallery/GalleryNode.js","../lib/utils/escape-html.js","../lib/nodes/email-cta/EmailCtaRenderer.js","../lib/nodes/email-cta/EmailCtaNode.js","../lib/nodes/signup/SignupParser.js","../lib/nodes/signup/SignupRenderer.js","../lib/nodes/signup/SignupNode.js","../lib/kg-default-nodes.js"],"sourcesContent":["import {DecoratorNode} from 'lexical';\n\nexport class KoenigDecoratorNode extends DecoratorNode {}\n\nexport function $isKoenigCard(node) {\n    return node instanceof KoenigDecoratorNode;\n}\n","import cleanBasicHtml from '@tryghost/kg-clean-basic-html';\n\nexport function buildCleanBasicHtmlForElement(domNode) {\n    return function _cleanBasicHtml(html) {\n        const cleanedHtml = cleanBasicHtml(html, {\n            createDocument: (_html) => {\n                const newDoc = domNode.ownerDocument.implementation.createHTMLDocument();\n                newDoc.body.innerHTML = _html;\n                return newDoc;\n            }\n        });\n        return cleanedHtml;\n    };\n}\n","import {buildCleanBasicHtmlForElement} from './build-clean-basic-html-for-element';\n\nexport function readCaptionFromElement(element, {selector = 'figcaption'} = {}) {\n    const cleanBasicHtml = buildCleanBasicHtmlForElement(element);\n\n    let caption;\n\n    const figcaptions = Array.from(element.querySelectorAll(selector));\n    if (figcaptions.length) {\n        figcaptions.forEach((figcaption) => {\n            const cleanHtml = cleanBasicHtml(figcaption.innerHTML);\n            caption = caption ? `${caption} / ${cleanHtml}` : cleanHtml;\n        });\n    }\n\n    return caption;\n}\n","export function readImageAttributesFromElement(element) {\n    const attrs = {};\n\n    if (element.src) {\n        attrs.src = element.src;\n    }\n\n    if (element.width) {\n        attrs.width = element.width;\n    } else if (element.dataset && element.dataset.width) {\n        attrs.width = parseInt(element.dataset.width, 10);\n    }\n\n    if (element.height) {\n        attrs.height = element.height;\n    } else if (element.dataset && element.dataset.height) {\n        attrs.height = parseInt(element.dataset.height, 10);\n    }\n\n    if ((!element.width && !element.height) && element.getAttribute('data-image-dimensions')) {\n        const [, width, height] = (/^(\\d*)x(\\d*)$/gi).exec(element.getAttribute('data-image-dimensions'));\n        attrs.width = parseInt(width, 10);\n        attrs.height = parseInt(height, 10);\n    }\n\n    if (element.alt) {\n        attrs.alt = element.alt;\n    }\n\n    if (element.title) {\n        attrs.title = element.title;\n    }\n\n    if (element.parentNode.tagName === 'A') {\n        const href = element.parentNode.href;\n\n        if (href !== attrs.src) {\n            attrs.href = href;\n        }\n    }\n\n    return attrs;\n}\n","import {readCaptionFromElement} from '../../utils/read-caption-from-element.js';\nimport {readImageAttributesFromElement} from '../../utils/read-image-attributes-from-element.js';\n\nexport class ImageParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            img: () => ({\n                conversion(domNode) {\n                    if (domNode.tagName === 'IMG') {\n                        const {src, width, height, alt, title} = readImageAttributesFromElement(domNode);\n\n                        const node = new self.NodeClass({alt, src, title, width, height});\n                        return {node};\n                    }\n\n                    return null;\n                },\n                priority: 1\n            }),\n            figure: (nodeElem) => {\n                if (!nodeElem.querySelector('img')) {\n                    return null;\n                }\n                return {\n                    conversion(domNode) {\n                        const img = domNode.querySelector('img');\n                        const kgClass = domNode.className.match(/kg-width-(wide|full)/);\n                        const grafClass = domNode.className.match(/graf--layout(FillWidth|OutsetCenter)/);\n\n                        if (!img) {\n                            return null;\n                        }\n\n                        const payload = readImageAttributesFromElement(img);\n\n                        if (kgClass) {\n                            payload.cardWidth = kgClass[1];\n                        } else if (grafClass) {\n                            payload.cardWidth = grafClass[1] === 'FillWidth' ? 'full' : 'wide';\n                        }\n\n                        payload.caption = readCaptionFromElement(domNode);\n\n                        const {src, width, height, alt, title, caption, cardWidth, href} = payload;\n                        const node = new self.NodeClass({alt, src, title, width, height, caption, cardWidth, href});\n                        return {node};\n                    },\n                    priority: 1\n                };\n            }\n        };\n    }\n}\n","export const getAvailableImageWidths = function (image, imageSizes) {\n    // get a sorted list of the available responsive widths\n    const imageWidths = Object.values(imageSizes)\n        .map(({width}) => width)\n        .sort((a, b) => a - b);\n\n    // select responsive widths that are usable based on the image width\n    const availableImageWidths = imageWidths\n        .filter(width => width <= image.width);\n\n    // add the original image size to the responsive list if it's not captured by largest responsive size\n    // - we can't know the width/height of the original `src` image because we don't know if it was resized\n    //   or not. Adding the original image to the responsive list ensures we're not showing smaller sized\n    //   images than we need to be\n    if (image.width > availableImageWidths[availableImageWidths.length - 1] && image.width < imageWidths[imageWidths.length - 1]) {\n        availableImageWidths.push(image.width);\n    }\n\n    return availableImageWidths;\n};\n","export const isLocalContentImage = function (url, siteUrl = '') {\n    const normalizedSiteUrl = siteUrl.replace(/\\/$/, '');\n    const imagePath = url.replace(normalizedSiteUrl, '');\n    return /^(\\/.*|__GHOST_URL__)\\/?content\\/images\\//.test(imagePath);\n};\n","export const isUnsplashImage = function (url) {\n    return /images\\.unsplash\\.com/.test(url);\n};\n","import {isLocalContentImage} from './is-local-content-image';\nimport {getAvailableImageWidths} from './get-available-image-widths';\nimport {isUnsplashImage} from './is-unsplash-image';\n\n// default content sizes: [600, 1000, 1600, 2400]\n\nexport const getSrcsetAttribute = function ({src, width, options}) {\n    if (!options.imageOptimization || options.imageOptimization.srcsets === false || !width || !options.imageOptimization.contentImageSizes) {\n        return;\n    }\n\n    if (isLocalContentImage(src, options.siteUrl) && options.canTransformImage && !options.canTransformImage(src)) {\n        return;\n    }\n\n    const srcsetWidths = getAvailableImageWidths({width}, options.imageOptimization.contentImageSizes);\n\n    // apply srcset if this is a relative image that matches Ghost's image url structure\n    if (isLocalContentImage(src, options.siteUrl)) {\n        const [, imagesPath, filename] = src.match(/(.*\\/content\\/images)\\/(.*)/);\n        const srcs = [];\n\n        srcsetWidths.forEach((srcsetWidth) => {\n            if (srcsetWidth === width) {\n                // use original image path if width matches exactly (avoids 302s from size->original)\n                srcs.push(`${src} ${srcsetWidth}w`);\n            } else if (srcsetWidth <= width) {\n                // avoid creating srcset sizes larger than intrinsic image width\n                srcs.push(`${imagesPath}/size/w${srcsetWidth}/${filename} ${srcsetWidth}w`);\n            }\n        });\n\n        if (srcs.length) {\n            return srcs.join(', ');\n        }\n    }\n\n    // apply srcset if this is an Unsplash image\n    if (isUnsplashImage(src)) {\n        const unsplashUrl = new URL(src);\n        const srcs = [];\n\n        srcsetWidths.forEach((srcsetWidth) => {\n            unsplashUrl.searchParams.set('w', srcsetWidth);\n            srcs.push(`${unsplashUrl.href} ${srcsetWidth}w`);\n        });\n\n        return srcs.join(', ');\n    }\n};\n\nexport const setSrcsetAttribute = function (elem, image, options) {\n    if (!elem || !['IMG', 'SOURCE'].includes(elem.tagName) || !elem.getAttribute('src') || !image) {\n        return;\n    }\n\n    const {src, width} = image;\n    const srcset = getSrcsetAttribute({src, width, options});\n\n    if (srcset) {\n        elem.setAttribute('srcset', srcset);\n    }\n};\n","export const resizeImage = function (image, {width: desiredWidth, height: desiredHeight} = {}) {\n    const {width, height} = image;\n    const ratio = width / height;\n\n    if (desiredWidth) {\n        const resizedHeight = Math.round(desiredWidth / ratio);\n\n        return {\n            width: desiredWidth,\n            height: resizedHeight\n        };\n    }\n\n    if (desiredHeight) {\n        const resizedWidth = Math.round(desiredHeight * ratio);\n\n        return {\n            width: resizedWidth,\n            height: desiredHeight\n        };\n    }\n};\n","// If we're in a browser environment, we can use the global document object,\n// but if we're in a non-browser environment, we need to be passed a `createDocument` function\nexport function addCreateDocumentOption(options) {\n    if (!options.createDocument) {\n        /* c8 ignore start */\n        let document = typeof window !== 'undefined' && window.document;\n\n        if (!document) {\n            throw new Error('renderImageNodeToDOM() must be passed a `createDocument` function as an option when used in a non-browser environment'); // eslint-disable-line\n        }\n\n        options.createDocument = function () {\n            return document;\n        };\n        /* c8 ignore end */\n    }\n}\n","import {getAvailableImageWidths} from '../../utils/get-available-image-widths';\nimport {isLocalContentImage} from '../../utils/is-local-content-image';\nimport {setSrcsetAttribute} from '../../utils/srcset-attribute';\nimport {resizeImage} from '../../utils/resize-image';\nimport {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nexport function renderImageNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n\n    if (!node.getSrc() || node.getSrc().trim() === '') {\n        return document.createTextNode('');\n    }\n\n    const figure = document.createElement('figure');\n\n    let figureClasses = 'kg-card kg-image-card';\n    if (node.getCardWidth() !== 'regular') {\n        figureClasses += ` kg-width-${node.getCardWidth()}`;\n    }\n\n    figure.setAttribute('class', figureClasses);\n\n    const img = document.createElement('img');\n    img.setAttribute('src', node.getSrc());\n    img.setAttribute('alt', node.getAlt());\n    img.setAttribute('loading', 'lazy');\n\n    if (node.getTitle()) {\n        img.setAttribute('title', node.getTitle());\n    }\n\n    if (node.getImgWidth() && node.getImgHeight()) {\n        img.setAttribute('width', node.getImgWidth());\n        img.setAttribute('height', node.getImgHeight());\n    }\n\n    // images can be resized to max width, if that's the case output\n    // the resized width/height attrs to ensure 3rd party gallery plugins\n    // aren't affected by differing sizes\n    const {canTransformImage} = options;\n    const {defaultMaxWidth} = options.imageOptimization || {};\n    if (\n        defaultMaxWidth &&\n            node.getImgWidth() > defaultMaxWidth &&\n            isLocalContentImage(node.getSrc(), options.siteUrl) &&\n            canTransformImage &&\n            canTransformImage(node.getSrc())\n    ) {\n        const imageDimensions = {\n            width: node.getImgWidth(),\n            height: node.getImgHeight()\n        };\n        const {width, height} = resizeImage(imageDimensions, {width: defaultMaxWidth});\n        img.setAttribute('width', width);\n        img.setAttribute('height', height);\n    }\n\n    if (options.target !== 'email') {\n        const imgAttributes = {\n            src: node.getSrc(),\n            width: node.getImgWidth(),\n            height: node.getImgHeight()\n        };\n        setSrcsetAttribute(img, imgAttributes, options);\n\n        if (img.getAttribute('srcset') && node.getImgWidth() && node.getImgWidth() >= 720) {\n            // standard size\n            if (!node.getCardWidth() || node.getCardWidth() === 'regular') {\n                img.setAttribute('sizes', '(min-width: 720px) 720px');\n            }\n\n            if (node.getCardWidth() === 'wide' && node.getImgWidth() >= 1200) {\n                img.setAttribute('sizes', '(min-width: 1200px) 1200px');\n            }\n        }\n    }\n\n    // Outlook is unable to properly resize images without a width/height\n    // so we add that at the expected size in emails (600px) and use a higher\n    // resolution image to keep images looking good on retina screens\n    if (options.target === 'email' && node.getImgWidth() && node.getImgHeight()) {\n        let imageDimensions = {\n            width: node.getImgWidth(),\n            height: node.getImgHeight()\n        };\n        if (node.getImgWidth() >= 600) {\n            imageDimensions = resizeImage(imageDimensions, {width: 600});\n        }\n        img.setAttribute('width', imageDimensions.width);\n        img.setAttribute('height', imageDimensions.height);\n\n        if (isLocalContentImage(node.getSrc(), options.siteUrl) && options.canTransformImage?.(node.getSrc())) {\n            // find available image size next up from 2x600 so we can use it for the \"retina\" src\n            const availableImageWidths = getAvailableImageWidths(node, options.imageOptimization.contentImageSizes);\n            const srcWidth = availableImageWidths.find(width => width >= 1200);\n\n            if (!srcWidth || srcWidth === node.getImgWidth()) {\n                // do nothing, width is smaller than retina or matches the original node src\n            } else {\n                const [, imagesPath, filename] = node.getSrc().match(/(.*\\/content\\/images)\\/(.*)/);\n                img.setAttribute('src', `${imagesPath}/size/w${srcWidth}/${filename}`);\n            }\n        }\n    }\n\n    if (node.getHref()) {\n        const a = document.createElement('a');\n        a.setAttribute('href', node.getHref());\n        a.appendChild(img);\n        figure.appendChild(a);\n    } else {\n        figure.appendChild(img);\n    }\n\n    if (node.getCaption()) {\n        const caption = document.createElement('figcaption');\n        caption.innerHTML = node.getCaption();\n        figure.appendChild(caption);\n    }\n\n    return figure;\n}\n","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {ImageParser} from './ImageParser';\nimport {renderImageNodeToDOM} from './ImageRenderer';\n\nexport const INSERT_IMAGE_COMMAND = createCommand();\nexport const UPLOAD_IMAGE_COMMAND = createCommand();\n\nexport class ImageNode extends KoenigDecoratorNode {\n    // payload properties\n    __src;\n    __caption;\n    __title;\n    __alt;\n    __cardWidth;\n    __width;\n    __height;\n    __href;\n\n    static getType() {\n        return 'image';\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    // used by `@tryghost/url-utils` to transform URLs contained in the serialized JSON\n    static get urlTransformMap() {\n        return {\n            src: 'url',\n            href: 'url',\n            caption: 'html'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            src: self.__src,\n            caption: self.__caption,\n            title: self.__title,\n            alt: self.__alt,\n            width: self.__width,\n            height: self.__height,\n            cardWidth: self.__cardWidth,\n            href: self.__href\n        };\n    }\n\n    constructor({src, caption, title, alt, cardWidth, width, height, href} = {}, key) {\n        super(key);\n        this.__src = src || '';\n        this.__title = title || '';\n        this.__caption = caption || '';\n        this.__alt = alt || '';\n        this.__width = width || null;\n        this.__height = height || null;\n        this.__cardWidth = cardWidth || 'regular';\n        this.__href = href || '';\n    }\n\n    static importJSON(serializedNode) {\n        const {src, caption, title, alt, width, height, cardWidth, href} = serializedNode;\n        const node = new this({\n            src,\n            caption,\n            title,\n            alt,\n            width,\n            height,\n            href,\n            cardWidth\n        });\n        return node;\n    }\n\n    exportJSON() {\n        // checks if src is a data string\n        const src = this.getSrc();\n        const isBlob = src.startsWith('data:');\n        const dataset = {\n            type: 'image',\n            version: 1,\n            src: isBlob ? '<base64String>' : this.getSrc(),\n            width: this.getImgWidth(),\n            height: this.getImgHeight(),\n            title: this.getTitle(),\n            alt: this.getAlt(),\n            caption: this.getCaption(),\n            cardWidth: this.getCardWidth(),\n            href: this.getHref()\n        };\n        return dataset;\n    }\n\n    static importDOM() {\n        const parser = new ImageParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderImageNodeToDOM(this, options);\n        return {element};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getSrc() {\n        const self = this.getLatest();\n        return self.__src;\n    }\n\n    setSrc(src) {\n        const writable = this.getWritable();\n        return writable.__src = src;\n    }\n\n    getTitle() {\n        const self = this.getLatest();\n        return self.__title;\n    }\n\n    setTitle(title) {\n        const writable = this.getWritable();\n        return writable.__title = title;\n    }\n\n    getHref() {\n        const self = this.getLatest();\n        return self.__href;\n    }\n\n    setHref(href) {\n        const writable = this.getWritable();\n        return writable.__href = href;\n    }\n\n    setCardWidth(cardWidth) {\n        const writable = this.getWritable();\n        return writable.__cardWidth = cardWidth;\n    }\n\n    getCardWidth() {\n        const self = this.getLatest();\n        return self.__cardWidth;\n    }\n\n    getImgWidth() {\n        const self = this.getLatest();\n        return self.__width;\n    }\n\n    setImgWidth(width) {\n        const writable = this.getWritable();\n        return writable.__width = width;\n    }\n\n    getImgHeight() {\n        const self = this.getLatest();\n        return self.__height;\n    }\n\n    setImgHeight(height) {\n        const writable = this.getWritable();\n        return writable.__height = height;\n    }\n\n    getCaption() {\n        const self = this.getLatest();\n        return self.__caption;\n    }\n\n    setCaption(caption) {\n        const writable = this.getWritable();\n        return writable.__caption = caption;\n    }\n\n    getAlt() {\n        const self = this.getLatest();\n        return self.__alt;\n    }\n\n    setAlt(alt) {\n        const writable = this.getWritable();\n        return writable.__alt = alt;\n    }\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n}\n\nexport const $createImageNode = (dataset) => {\n    return new ImageNode(dataset);\n};\n\nexport function $isImageNode(node) {\n    return node instanceof ImageNode;\n}\n","import {readCaptionFromElement} from '../../utils/read-caption-from-element';\n\nexport class CodeBlockParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            figure: () => ({\n                conversion(domNode) {\n                    if (domNode.tagName === 'FIGURE') {\n                        const pre = domNode.querySelector('pre');\n\n                        // If this figure doesn't have a pre tag in it\n                        if (!pre) {\n                            return null;\n                        }\n\n                        let code = pre.querySelector('code');\n                        let figcaption = domNode.querySelector('figcaption');\n\n                        // if there's no caption the pre key should pick it up\n                        if (!code || !figcaption) {\n                            return null;\n                        }\n\n                        let payload = {\n                            code: code.textContent,\n                            caption: readCaptionFromElement(domNode)\n                        };\n\n                        let preClass = pre.getAttribute('class') || '';\n                        let codeClass = code.getAttribute('class') || '';\n                        let langRegex = /lang(?:uage)?-(.*?)(?:\\s|$)/i;\n                        let languageMatches = preClass.match(langRegex) || codeClass.match(langRegex);\n                        if (languageMatches) {\n                            payload.language = languageMatches[1].toLowerCase();\n                        }\n\n                        const node = new self.NodeClass(payload);\n                        return {node};\n                    }\n                    return null;\n                },\n                priority: 2 // falls back to pre if no caption\n            }),\n            pre: () => ({\n                conversion(domNode) {\n                    if (domNode.tagName === 'PRE') {\n                        let [codeElement] = domNode.children;\n\n                        if (codeElement && codeElement.tagName === 'CODE') {\n                            let payload = {code: codeElement.textContent};\n                            let preClass = domNode.getAttribute('class') || '';\n                            let codeClass = codeElement.getAttribute('class') || '';\n                            let langRegex = /lang(?:uage)?-(.*?)(?:\\s|$)/i;\n                            let languageMatches = preClass.match(langRegex) || codeClass.match(langRegex);\n                            if (languageMatches) {\n                                payload.language = languageMatches[1].toLowerCase();\n                            }\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        }\n                    }\n\n                    return null;\n                },\n                priority: 1\n            })\n        };\n    }\n}\n","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nexport function renderCodeBlockNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n\n    if (!node.getCode() || node.getCode().trim() === '') {\n        return document.createTextNode('');\n    }\n\n    const pre = document.createElement('pre');\n    const code = document.createElement('code');\n\n    if (node.getLanguage()) {\n        code.setAttribute('class', `language-${node.getLanguage()}`);\n    }\n\n    code.appendChild(document.createTextNode(node.getCode()));\n    pre.appendChild(code);\n\n    if (node.getCaption()) {\n        let figure = document.createElement('figure');\n        figure.setAttribute('class', 'kg-card kg-code-card');\n        figure.appendChild(pre);\n\n        let figcaption = document.createElement('figcaption');\n        figcaption.appendChild(document.createTextNode(node.getCaption()));\n        figure.appendChild(figcaption);\n\n        return figure;\n    } else {\n        return pre;\n    }\n}\n","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {CodeBlockParser} from './CodeBlockParser';\nimport {renderCodeBlockNodeToDOM} from './CodeBlockRenderer';\n\nexport const INSERT_CODE_BLOCK_COMMAND = createCommand();\n\nexport class CodeBlockNode extends KoenigDecoratorNode {\n    __code;\n    __language;\n    __caption;\n\n    static getType() {\n        return 'codeblock';\n    }\n\n    static clone(node) {\n        // must use `this` so the extended class in the Editor uses the correct class when cloning\n        // without needing to override this method\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    // used by `@tryghost/url-utils` to transform URLs contained in the serialized JSON\n    static get urlTransformMap() {\n        return {\n            caption: 'html'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            code: self.__code,\n            language: self.__language,\n            caption: self.__caption\n        };\n    }\n\n    static importJSON(serializedNode) {\n        const {code, language, caption} = serializedNode;\n        const node = new this({code, language, caption});\n        return node;\n    }\n\n    exportJSON() {\n        return {\n            type: 'codeblock',\n            version: 1,\n            code: this.__code,\n            language: this.__language,\n            caption: this.__caption\n        };\n    }\n\n    constructor({code, language, caption} = {}, key) {\n        super(key);\n        this.__code = code;\n        this.__language = language;\n        this.__caption = caption;\n    }\n\n    static importDOM() {\n        const parser = new CodeBlockParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderCodeBlockNodeToDOM(this, options);\n        return {element};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        return document.createElement('div');\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getCaption() {\n        const self = this.getLatest();\n        return self.__caption;\n    }\n\n    setCaption(caption) {\n        const self = this.getWritable();\n        self.__caption = caption;\n    }\n\n    getCode() {\n        const self = this.getLatest();\n        return self.__code;\n    }\n\n    setCode(code) {\n        const self = this.getWritable();\n        self.__code = code;\n    }\n\n    getLanguage() {\n        const self = this.getLatest();\n        return self.__language;\n    }\n\n    setLanguage(language) {\n        const self = this.getWritable();\n        self.__language = language;\n    }\n\n    getTextContent() {\n        const self = this.getLatest();\n        return self.__code;\n    }\n\n    // should be overwritten\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n\n    hasEditMode() {\n        return true;\n    }\n\n    isEmpty() {\n        return !this.__code;\n    }\n}\n\nexport function $createCodeBlockNode(dataset) {\n    return new CodeBlockNode(dataset);\n}\n\nexport function $isCodeBlockNode(node) {\n    return node instanceof CodeBlockNode;\n}\n","import markdownHtmlRenderer from '@tryghost/kg-markdown-html-renderer';\nimport {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nexport function renderMarkdownNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n\n    const html = markdownHtmlRenderer.render(node.getMarkdown() || '', options);\n\n    const div = document.createElement('div');\n\n    div.innerHTML = html;\n\n    return div;\n}\n","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {renderMarkdownNodeToDOM} from './MarkdownRenderer';\n\nexport const INSERT_MARKDOWN_COMMAND = createCommand();\n\nexport class MarkdownNode extends KoenigDecoratorNode {\n    __markdown;\n\n    static getType() {\n        return 'markdown';\n    }\n\n    static clone(node) {\n        return new this(node.getDataset(), node.__key);\n    }\n\n    // used by `@tryghost/url-utils` to transform URLs contained in the serialized JSON\n    static get urlTransformMap() {\n        return {\n            markdown: 'markdown'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            markdown: self.__markdown\n        };\n    }\n\n    static importJSON(serializedNode) {\n        const {markdown} = serializedNode;\n        const node = new this({markdown});\n        return node;\n    }\n\n    exportJSON() {\n        return {\n            type: 'markdown',\n            version: 1,\n            markdown: this.getMarkdown()\n        };\n    }\n\n    constructor({markdown} = {}, key) {\n        super(key);\n        this.__markdown = markdown;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderMarkdownNodeToDOM(this, options);\n        return {\n            element,\n            type: 'inner'\n        };\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getMarkdown() {\n        return this.__markdown;\n    }\n\n    setMarkdown(markdown) {\n        const writable = this.getWritable();\n        return writable.__markdown = markdown;\n    }\n\n    // should be overwritten\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n\n    hasEditMode() {\n        return true;\n    }\n\n    isEmpty() {\n        return !this.__markdown;\n    }\n}\n\nexport function $createMarkdownNode(dataset) {\n    return new MarkdownNode(dataset);\n}\n\nexport function $isMarkdownNode(node) {\n    return node instanceof MarkdownNode;\n}\n","import {readCaptionFromElement} from '../../utils/read-caption-from-element';\n\nexport class VideoParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            figure: () => ({\n                conversion(domNode) {\n                    const isKgVideoCard = domNode.classList?.contains('kg-video-card');\n                    if (domNode.tagName === 'FIGURE' && isKgVideoCard) {\n                        const videoNode = domNode.querySelector('.kg-video-container video');\n                        const durationNode = domNode.querySelector('.kg-video-duration');\n                        const videoSrc = videoNode && videoNode.src;\n                        const videoWidth = videoNode && videoNode.width;\n                        const videoHeight = videoNode && videoNode.height;\n                        const durationText = durationNode && durationNode.innerHTML.trim();\n                        const captionText = readCaptionFromElement(domNode);\n\n                        if (!videoSrc) {\n                            return null;\n                        }\n\n                        const payload = {\n                            src: videoSrc,\n                            loop: !!videoNode.loop,\n                            cardWidth: getCardWidth(videoNode)\n                        };\n\n                        if (durationText) {\n                            const [minutes, seconds] = durationText.split(':');\n                            try {\n                                payload.duration = parseInt(minutes) * 60 + parseInt(seconds);\n                            } catch (e) {\n                                // ignore duration\n                            }\n                        }\n\n                        if (domNode.dataset.kgThumbnail) {\n                            payload.thumbnailSrc = domNode.dataset.kgThumbnail;\n                        }\n\n                        if (domNode.dataset.kgCustomThumbnail) {\n                            payload.customThumbnailSrc = domNode.dataset.kgCustomThumbnail;\n                        }\n\n                        if (captionText) {\n                            payload.caption = captionText;\n                        }\n\n                        if (videoWidth) {\n                            payload.width = videoWidth;\n                        }\n\n                        if (videoHeight) {\n                            payload.height = videoHeight;\n                        }\n\n                        const node = new self.NodeClass(payload);\n                        return {node};\n                    }\n\n                    return null;\n                },\n                priority: 1\n            })\n        };\n    }\n}\n\nfunction getCardWidth(domNode) {\n    if (domNode.classList.contains('kg-width-full')) {\n        return 'full';\n    } else if (domNode.classList.contains('kg-width-wide')) {\n        return 'wide';\n    } else {\n        return 'regular';\n    }\n}\n","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nexport function renderVideoNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n\n    if (!node.getSrc() || node.getSrc().trim() === '') {\n        return document.createTextNode('');\n    }\n\n    const cardClasses = getCardClasses(node).join(' ');\n\n    const htmlString = options.target === 'email'\n        ? emailCardTemplate({node, options, cardClasses})\n        : cardTemplate({node, cardClasses});\n\n    const element = document.createElement('div');\n    element.innerHTML = htmlString.trim();\n\n    return element.firstElementChild;\n}\n\nexport function cardTemplate({node, cardClasses}) {\n    const width = node.getVideoWidth();\n    const height = node.getVideoHeight();\n    const posterSpacerSrc = `https://img.spacergif.org/v1/${width}x${height}/0a/spacer.png`;\n    const autoplayAttr = node.getLoop() ? 'loop autoplay muted' : '';\n    const thumbnailSrc = node.getCustomThumbnailSrc() || node.getThumbnailSrc();\n    const hideControlsClass = node.getLoop() ? ' kg-video-hide' : '';\n\n    return (\n        `\n        <figure class=\"${cardClasses}\" data-kg-thumbnail=${node.getThumbnailSrc()} data-kg-custom-thumbnail=${node.getCustomThumbnailSrc()}>\n            <div class=\"kg-video-container\">\n                <video\n                    src=\"${node.getSrc()}\"\n                    poster=\"${posterSpacerSrc}\"\n                    width=\"${width}\"\n                    height=\"${height}\"\n                    ${autoplayAttr}\n                    playsinline\n                    preload=\"metadata\"\n                    style=\"background: transparent url('${thumbnailSrc}') 50% 50% / cover no-repeat;\"\n                ></video>\n                <div class=\"kg-video-overlay\">\n                    <button class=\"kg-video-large-play-icon\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n                            <path d=\"M23.14 10.608 2.253.164A1.559 1.559 0 0 0 0 1.557v20.887a1.558 1.558 0 0 0 2.253 1.392L23.14 13.393a1.557 1.557 0 0 0 0-2.785Z\"/>\n                        </svg>\n                    </button>\n                </div>\n                <div class=\"kg-video-player-container${hideControlsClass}\">\n                    <div class=\"kg-video-player\">\n                        <button class=\"kg-video-play-icon\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n                                <path d=\"M23.14 10.608 2.253.164A1.559 1.559 0 0 0 0 1.557v20.887a1.558 1.558 0 0 0 2.253 1.392L23.14 13.393a1.557 1.557 0 0 0 0-2.785Z\"></path>\n                            </svg>\n                        </button>\n                        <button class=\"kg-video-pause-icon kg-video-hide\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n                                <rect x=\"3\" y=\"1\" width=\"7\" height=\"22\" rx=\"1.5\" ry=\"1.5\"></rect>\n                                <rect x=\"14\" y=\"1\" width=\"7\" height=\"22\" rx=\"1.5\" ry=\"1.5\"></rect>\n                            </svg>\n                        </button>\n                        <span class=\"kg-video-current-time\">0:00</span>\n                        <div class=\"kg-video-time\">\n                            /<span class=\"kg-video-duration\">${node.getFormattedDuration()}</span>\n                        </div>\n                        <input type=\"range\" class=\"kg-video-seek-slider\" max=\"100\" value=\"0\">\n                        <button class=\"kg-video-playback-rate\">1&#215;</button>\n                        <button class=\"kg-video-unmute-icon\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n                                <path d=\"M15.189 2.021a9.728 9.728 0 0 0-7.924 4.85.249.249 0 0 1-.221.133H5.25a3 3 0 0 0-3 3v2a3 3 0 0 0 3 3h1.794a.249.249 0 0 1 .221.133 9.73 9.73 0 0 0 7.924 4.85h.06a1 1 0 0 0 1-1V3.02a1 1 0 0 0-1.06-.998Z\"></path>\n                            </svg>\n                        </button>\n                        <button class=\"kg-video-mute-icon kg-video-hide\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n                                <path d=\"M16.177 4.3a.248.248 0 0 0 .073-.176v-1.1a1 1 0 0 0-1.061-1 9.728 9.728 0 0 0-7.924 4.85.249.249 0 0 1-.221.133H5.25a3 3 0 0 0-3 3v2a3 3 0 0 0 3 3h.114a.251.251 0 0 0 .177-.073ZM23.707 1.706A1 1 0 0 0 22.293.292l-22 22a1 1 0 0 0 0 1.414l.009.009a1 1 0 0 0 1.405-.009l6.63-6.631A.251.251 0 0 1 8.515 17a.245.245 0 0 1 .177.075 10.081 10.081 0 0 0 6.5 2.92 1 1 0 0 0 1.061-1V9.266a.247.247 0 0 1 .073-.176Z\"></path>\n                            </svg>\n                        </button>\n                        <input type=\"range\" class=\"kg-video-volume-slider\" max=\"100\" value=\"100\"/>\n                    </div>\n                </div>\n            </div>\n            ${node.getCaption() ? `<figcaption>${node.getCaption()}</figcaption>` : ''}\n        </figure>\n    `\n    );\n}\n\nexport function emailCardTemplate({node, options, cardClasses}) {\n    const thumbnailSrc = node.getCustomThumbnailSrc() || node.getThumbnailSrc();\n    const emailTemplateMaxWidth = 600;\n    const aspectRatio = node.getVideoWidth() / node.getVideoHeight();\n    const emailSpacerWidth = Math.round(emailTemplateMaxWidth / 4);\n    const emailSpacerHeight = Math.round(emailTemplateMaxWidth / aspectRatio);\n    const posterSpacerSrc = `https://img.spacergif.org/v1/${emailSpacerWidth}x${emailSpacerHeight}/0a/spacer.png`;\n    const outlookCircleLeft = Math.round((emailTemplateMaxWidth / 2) - 39);\n    const outlookCircleTop = Math.round((emailSpacerHeight / 2) - 39);\n    const outlookPlayLeft = Math.round((emailTemplateMaxWidth / 2) - 11);\n    const outlookPlayTop = Math.round((emailSpacerHeight / 2) - 17);\n\n    return (\n        `\n         <figure class=\"${cardClasses}\">\n            <!--[if !mso !vml]-->\n            <a class=\"kg-video-preview\" href=\"${options.postUrl}\" aria-label=\"Play video\" style=\"mso-hide: all\">\n                <table\n                    cellpadding=\"0\"\n                    cellspacing=\"0\"\n                    border=\"0\"\n                    width=\"100%\"\n                    background=\"${thumbnailSrc}\"\n                    role=\"presentation\"\n                    style=\"background: url('${thumbnailSrc}') left top / cover; mso-hide: all\"\n                >\n                    <tr style=\"mso-hide: all\">\n                        <td width=\"25%\" style=\"visibility: hidden; mso-hide: all\">\n                            <img src=\"${posterSpacerSrc}\" alt=\"\" width=\"100%\" border=\"0\" style=\"height: auto; opacity: 0; visibility: hidden; mso-hide: all;\">\n                        </td>\n                        <td width=\"50%\" align=\"center\" valign=\"middle\" style=\"vertical-align: middle; mso-hide: all;\">\n                            <div class=\"kg-video-play-button\" style=\"mso-hide: all\"><div style=\"mso-hide: all\"></div></div>\n                        </td>\n                        <td width=\"25%\" style=\"mso-hide: all\">&nbsp;</td>\n                    </tr>\n                </table>\n            </a>\n            <!--[endif]-->\n\n            <!--[if vml]>\n            <v:group xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:w=\"urn:schemas-microsoft-com:office:word\" coordsize=\"${emailTemplateMaxWidth},${emailSpacerHeight}\" coordorigin=\"0,0\" href=\"${options.postUrl}\" style=\"width:${emailTemplateMaxWidth}px;height:${emailSpacerHeight}px;\">\n                <v:rect fill=\"t\" stroked=\"f\" style=\"position:absolute;width:${emailTemplateMaxWidth};height:${emailSpacerHeight};\"><v:fill src=\"${thumbnailSrc}\" type=\"frame\"/></v:rect>\n                <v:oval fill=\"t\" strokecolor=\"white\" strokeweight=\"4px\" style=\"position:absolute;left:${outlookCircleLeft};top:${outlookCircleTop};width:78;height:78\"><v:fill color=\"black\" opacity=\"30%\" /></v:oval>\n                <v:shape coordsize=\"24,32\" path=\"m,l,32,24,16,xe\" fillcolor=\"white\" stroked=\"f\" style=\"position:absolute;left:${outlookPlayLeft};top:${outlookPlayTop};width:30;height:34;\" />\n            </v:group>\n            <![endif]-->\n\n            ${node.getCaption() ? `<figcaption>${node.getCaption()}</figcaption>` : ''}\n        </figure>\n        `\n    );\n}\n\nexport function getCardClasses(node) {\n    let cardClasses = ['kg-card kg-video-card'];\n\n    if (node.getCardWidth()) {\n        cardClasses.push(`kg-width-${node.getCardWidth()}`);\n    }\n    if (node.getCaption()) {\n        cardClasses.push(`kg-card-hascaption`);\n    }\n\n    return cardClasses;\n}\n","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {VideoParser} from './VideoParser';\nimport {renderVideoNodeToDOM} from './VideoRenderer';\n\nexport const INSERT_VIDEO_COMMAND = createCommand();\nconst NODE_TYPE = 'video';\n\nexport class VideoNode extends KoenigDecoratorNode {\n    // payload properties\n    __src;\n    __caption;\n    __fileName;\n    __mimeType;\n    __width;\n    __height;\n    __duration;\n    __thumbnailSrc;\n    __customThumbnailSrc;\n    __thumbnailWidth;\n    __thumbnailHeight;\n    __cardWidth;\n    __loop;\n\n    static getType() {\n        return NODE_TYPE;\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    // used by `@tryghost/url-utils` to transform URLs contained in the serialized JSON\n    static get urlTransformMap() {\n        return {\n            src: 'url',\n            thumbnailSrc: 'url',\n            customThumbnailSrc: 'url',\n            caption: 'html'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            src: self.__src,\n            caption: self.__caption,\n            fileName: self.__fileName,\n            mimeType: self.__mimeType,\n            width: self.__width,\n            height: self.__height,\n            duration: self.__duration,\n            thumbnailSrc: self.__thumbnailSrc,\n            customThumbnailSrc: self.__customThumbnailSrc,\n            thumbnailWidth: self.__thumbnailWidth,\n            thumbnailHeight: self.__thumbnailHeight,\n            cardWidth: self.__cardWidth,\n            loop: self.__loop\n        };\n    }\n\n    constructor({src, caption, fileName, mimeType, width, height, duration, thumbnailSrc, customThumbnailSrc, thumbnailWidth, thumbnailHeight, cardWidth, loop} = {}, key) {\n        super(key);\n        this.__src = src || '';\n        this.__caption = caption || '';\n        this.__fileName = fileName || '';\n        this.__mimeType = mimeType || '';\n        this.__width = width || null;\n        this.__height = height || null;\n        this.__duration = duration || 0;\n        this.__thumbnailSrc = thumbnailSrc || '';\n        this.__customThumbnailSrc = customThumbnailSrc || '';\n        this.__thumbnailWidth = thumbnailWidth || null;\n        this.__thumbnailHeight = thumbnailHeight || null;\n        this.__cardWidth = cardWidth || 'regular';\n        this.__loop = !!loop;\n    }\n\n    static importJSON(serializedNode) {\n        const {src, caption, fileName, mimeType, width, height, duration, thumbnailSrc, customThumbnailSrc, thumbnailWidth, thumbnailHeight, cardWidth, loop} = serializedNode;\n        const node = new this({\n            src,\n            caption,\n            fileName,\n            mimeType,\n            width,\n            height,\n            duration,\n            thumbnailSrc,\n            customThumbnailSrc,\n            thumbnailWidth,\n            thumbnailHeight,\n            cardWidth,\n            loop\n        });\n        return node;\n    }\n\n    exportJSON() {\n        // checks if src is a data string\n        const src = this.getSrc();\n        const isBlob = src.startsWith('data:');\n        const dataset = {\n            type: NODE_TYPE,\n            version: 1,\n            src: isBlob ? '<base64String>' : this.getSrc(),\n            caption: this.getCaption(),\n            fileName: this.getFileName(),\n            mimeType: this.getMimeType(),\n            width: this.getVideoWidth(),\n            height: this.getVideoHeight(),\n            duration: this.getDuration(),\n            thumbnailSrc: this.getThumbnailSrc(),\n            customThumbnailSrc: this.getCustomThumbnailSrc(),\n            thumbnailWidth: this.getThumbnailWidth(),\n            thumbnailHeight: this.getThumbnailHeight(),\n            cardWidth: this.getCardWidth(),\n            loop: this.getLoop()\n        };\n        return dataset;\n    }\n\n    static importDOM() {\n        const parser = new VideoParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderVideoNodeToDOM(this, options);\n        return {element};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getSrc() {\n        const self = this.getLatest();\n        return self.__src;\n    }\n\n    setSrc(src) {\n        const writable = this.getWritable();\n        return writable.__src = src;\n    }\n\n    getCaption() {\n        const self = this.getLatest();\n        return self.__caption;\n    }\n\n    setCaption(caption) {\n        const writable = this.getWritable();\n        return writable.__caption = caption;\n    }\n\n    getFileName() {\n        const self = this.getLatest();\n        return self.__fileName;\n    }\n\n    setFileName(fileName) {\n        const writable = this.getWritable();\n        return writable.__fileName = fileName;\n    }\n\n    getMimeType() {\n        const self = this.getLatest();\n        return self.__mimeType;\n    }\n\n    setMimeType(mimeType) {\n        const writable = this.getWritable();\n        return writable.__mimeType = mimeType;\n    }\n\n    getVideoWidth() {\n        const self = this.getLatest();\n        return self.__width;\n    }\n\n    setVideoWidth(width) {\n        const writable = this.getWritable();\n        return writable.__width = width;\n    }\n\n    getVideoHeight() {\n        const self = this.getLatest();\n        return self.__height;\n    }\n\n    setVideoHeight(height) {\n        const writable = this.getWritable();\n        return writable.__height = height;\n    }\n\n    getDuration() {\n        const self = this.getLatest();\n        return self.__duration;\n    }\n\n    getFormattedDuration() {\n        const minutes = Math.floor(this.getDuration() / 60);\n        const seconds = Math.floor(this.getDuration() - (minutes * 60));\n        const paddedSeconds = String(seconds).padStart(2, '0');\n        const formattedDuration = `${minutes}:${paddedSeconds}`;\n        return formattedDuration;\n    }\n\n    setDuration(duration) {\n        const writable = this.getWritable();\n        return writable.__duration = duration;\n    }\n\n    getThumbnailSrc() {\n        const self = this.getLatest();\n        return self.__thumbnailSrc;\n    }\n\n    setThumbnailSrc(thumbnailSrc) {\n        const writable = this.getWritable();\n        return writable.__thumbnailSrc = thumbnailSrc;\n    }\n\n    getCustomThumbnailSrc() {\n        const self = this.getLatest();\n        return self.__customThumbnailSrc;\n    }\n\n    setCustomThumbnailSrc(customThumbnailSrc) {\n        const writable = this.getWritable();\n        return writable.__customThumbnailSrc = customThumbnailSrc;\n    }\n\n    getThumbnailWidth() {\n        const self = this.getLatest();\n        return self.__thumbnailWidth;\n    }\n\n    setThumbnailWidth(thumbnailWidth) {\n        const writable = this.getWritable();\n        return writable.__thumbnailWidth = thumbnailWidth;\n    }\n\n    getThumbnailHeight() {\n        const self = this.getLatest();\n        return self.__thumbnailHeight;\n    }\n\n    setThumbnailHeight(thumbnailHeight) {\n        const writable = this.getWritable();\n        return writable.__thumbnailHeight = thumbnailHeight;\n    }\n\n    setCardWidth(cardWidth) {\n        const writable = this.getWritable();\n        return writable.__cardWidth = cardWidth;\n    }\n\n    getCardWidth() {\n        const self = this.getLatest();\n        return self.__cardWidth;\n    }\n\n    getLoop() {\n        const self = this.getLatest();\n        return self.__loop;\n    }\n\n    setLoop(loop) {\n        const writable = this.getWritable();\n        return writable.__loop = loop;\n    }\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n\n    hasEditMode() {\n        return true;\n    }\n}\n\nexport const $createVideoNode = (dataset) => {\n    return new VideoNode(dataset);\n};\n\nexport function $isVideoNode(node) {\n    return node instanceof VideoNode;\n}\n","export class AudioParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            div: (nodeElem) => {\n                const isKgAudioCard = nodeElem.classList?.contains('kg-audio-card');\n                if (nodeElem.tagName === 'DIV' && isKgAudioCard) {\n                    return {\n                        conversion(domNode) {\n                            const titleNode = domNode?.querySelector('.kg-audio-title');\n                            const audioNode = domNode?.querySelector('.kg-audio-player-container audio');\n                            const durationNode = domNode?.querySelector('.kg-audio-duration');\n                            const thumbnailNode = domNode?.querySelector('.kg-audio-thumbnail');\n                            const title = titleNode && titleNode.innerHTML.trim();\n                            const audioSrc = audioNode && audioNode.src;\n                            const thumbnailSrc = thumbnailNode && thumbnailNode.src;\n                            const durationText = durationNode && durationNode.innerHTML.trim();\n                            const payload = {\n                                src: audioSrc,\n                                title: title\n                            };\n                            if (thumbnailSrc) {\n                                payload.thumbnailSrc = thumbnailSrc;\n                            }\n\n                            if (durationText) {\n                                const [minutes, seconds = 0] = durationText.split(':');\n                                try {\n                                    payload.duration = parseInt(minutes) * 60 + parseInt(seconds);\n                                } catch (e) {\n                                    // ignore duration\n                                }\n                            }\n\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        },\n                        priority: 1\n                    };\n                }\n                return null;\n            }\n        };\n    }\n}\n","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nexport function renderAudioNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n\n    if (!node.getSrc() || node.getSrc().trim() === '') {\n        return document.createTextNode('');\n    }\n\n    return frontendTemplate(node, document);\n}\n\nfunction frontendTemplate(node, document) {\n    let thumbnailCls = 'kg-audio-thumbnail';\n    let emptyThumbnailCls = 'kg-audio-thumbnail placeholder';\n    if (!node.getThumbnailSrc()) {\n        thumbnailCls += ' kg-audio-hide';\n    } else {\n        emptyThumbnailCls += ' kg-audio-hide';\n    }\n\n    const cardDiv = document.createElement('div');\n    cardDiv.setAttribute('class', 'kg-card kg-audio-card');\n    const img = document.createElement('img');\n    img.src = node.getThumbnailSrc();\n    img.alt = 'audio-thumbnail';\n    img.setAttribute('class', thumbnailCls);\n    cardDiv.appendChild(img);\n\n    const emptyThumbnailDiv = document.createElement('div');\n    emptyThumbnailDiv.setAttribute('class', emptyThumbnailCls);\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svg.setAttribute('width', '24');\n    svg.setAttribute('height', '24');\n    svg.setAttribute('fill', 'none');\n    const path1 = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    path1.setAttribute('fill-rule', 'evenodd');\n    path1.setAttribute('clip-rule', 'evenodd');\n    path1.setAttribute('d', 'M7.5 15.33a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm-2.25.75a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM15 13.83a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm-2.25.75a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0Z');\n    svg.appendChild(path1);\n    const path2 = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    path2.setAttribute('fill-rule', 'evenodd');\n    path2.setAttribute('clip-rule', 'evenodd');\n    path2.setAttribute('d', 'M14.486 6.81A2.25 2.25 0 0 1 17.25 9v5.579a.75.75 0 0 1-1.5 0v-5.58a.75.75 0 0 0-.932-.727.755.755 0 0 1-.059.013l-4.465.744a.75.75 0 0 0-.544.72v6.33a.75.75 0 0 1-1.5 0v-6.33a2.25 2.25 0 0 1 1.763-2.194l4.473-.746Z');\n    svg.appendChild(path2);\n    const path3 = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    path3.setAttribute('fill-rule', 'evenodd');\n    path3.setAttribute('clip-rule', 'evenodd');\n    path3.setAttribute('d', 'M3 1.5a.75.75 0 0 0-.75.75v19.5a.75.75 0 0 0 .75.75h18a.75.75 0 0 0 .75-.75V5.133a.75.75 0 0 0-.225-.535l-.002-.002-3-2.883A.75.75 0 0 0 18 1.5H3ZM1.409.659A2.25 2.25 0 0 1 3 0h15a2.25 2.25 0 0 1 1.568.637l.003.002 3 2.883a2.25 2.25 0 0 1 .679 1.61V21.75A2.25 2.25 0 0 1 21 24H3a2.25 2.25 0 0 1-2.25-2.25V2.25c0-.597.237-1.169.659-1.591Z');\n    svg.appendChild(path3);\n    emptyThumbnailDiv.appendChild(svg);\n\n    cardDiv.appendChild(emptyThumbnailDiv);\n\n    const audioPlayerContainer = document.createElement('div');\n    audioPlayerContainer.setAttribute('class', 'kg-audio-player-container');\n\n    const audioElement = document.createElement('audio');\n    audioElement.setAttribute('src', node.getSrc());\n    audioElement.setAttribute('preload', 'metadata');\n    audioPlayerContainer.appendChild(audioElement);\n\n    const audioTitle = document.createElement('div');\n    audioTitle.setAttribute('class', 'kg-audio-title');\n    audioTitle.textContent = node.getTitle();\n    audioPlayerContainer.appendChild(audioTitle);\n\n    const audioPlayer = document.createElement('div');\n    audioPlayer.setAttribute('class', 'kg-audio-player');\n    const audioPlayIcon = document.createElement('button');\n    audioPlayIcon.setAttribute('class', 'kg-audio-play-icon');\n    const audioPlayIconSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    audioPlayIconSvg.setAttribute('viewBox', '0 0 24 24');\n    const playPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    playPath.setAttribute('d', 'M23.14 10.608 2.253.164A1.559 1.559 0 0 0 0 1.557v20.887a1.558 1.558 0 0 0 2.253 1.392L23.14 13.393a1.557 1.557 0 0 0 0-2.785Z');\n    audioPlayIconSvg.appendChild(playPath);\n    audioPlayIcon.appendChild(audioPlayIconSvg);\n    audioPlayer.appendChild(audioPlayIcon);\n\n    const audioPauseIcon = document.createElement('button');\n    audioPauseIcon.setAttribute('class', 'kg-audio-pause-icon kg-audio-hide');\n    const audioPauseIconSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    audioPauseIconSvg.setAttribute('viewBox', '0 0 24 24');\n    const rectSvg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n    rectSvg.setAttribute('x', '3');\n    rectSvg.setAttribute('y', '1');\n    rectSvg.setAttribute('width', '7');\n    rectSvg.setAttribute('height', '22');\n    rectSvg.setAttribute('rx', '1.5');\n    rectSvg.setAttribute('ry', '1.5');\n    audioPauseIconSvg.appendChild(rectSvg);\n    const rectSvg2 = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n    rectSvg2.setAttribute('x', '14');\n    rectSvg2.setAttribute('y', '1');\n    rectSvg2.setAttribute('width', '7');\n    rectSvg2.setAttribute('height', '22');\n    rectSvg2.setAttribute('rx', '1.5');\n    rectSvg2.setAttribute('ry', '1.5');\n    audioPauseIconSvg.appendChild(rectSvg2);\n    audioPauseIcon.appendChild(audioPauseIconSvg);\n    audioPlayer.appendChild(audioPauseIcon);\n\n    const audioDuration = document.createElement('span');\n    audioDuration.setAttribute('class', 'kg-audio-current-time');\n    audioDuration.textContent = '0:00';\n    audioPlayer.appendChild(audioDuration);\n\n    const audioDurationTotal = document.createElement('div');\n    audioDurationTotal.setAttribute('class', 'kg-audio-time');\n    audioDurationTotal.textContent = '/';\n    const audioDUrationNode = document.createElement('span');\n    audioDUrationNode.setAttribute('class', 'kg-audio-duration');\n    audioDUrationNode.textContent = node.getDuration();\n    audioDurationTotal.appendChild(audioDUrationNode);\n    audioPlayer.appendChild(audioDurationTotal);\n\n    const audioSlider = document.createElement('input');\n    audioSlider.setAttribute('type', 'range');\n    audioSlider.setAttribute('class', 'kg-audio-seek-slider');\n    audioSlider.setAttribute('max', '100');\n    audioSlider.setAttribute('value', '0');\n    audioPlayer.appendChild(audioSlider);\n\n    const playbackRate = document.createElement('button');\n    playbackRate.setAttribute('class', 'kg-audio-playback-rate');\n    playbackRate.innerHTML = '1&#215;'; // innerHTML not textContent because we need the HTML entity\n    audioPlayer.appendChild(playbackRate);\n\n    const unmuteIcon = document.createElement('button');\n    unmuteIcon.setAttribute('class', 'kg-audio-unmute-icon');\n    const unmuteIconSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    unmuteIconSvg.setAttribute('viewBox', '0 0 24 24');\n    const unmutePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    unmutePath.setAttribute('d', 'M15.189 2.021a9.728 9.728 0 0 0-7.924 4.85.249.249 0 0 1-.221.133H5.25a3 3 0 0 0-3 3v2a3 3 0 0 0 3 3h1.794a.249.249 0 0 1 .221.133 9.73 9.73 0 0 0 7.924 4.85h.06a1 1 0 0 0 1-1V3.02a1 1 0 0 0-1.06-.998Z');\n    unmuteIconSvg.appendChild(unmutePath);\n    unmuteIcon.appendChild(unmuteIconSvg);\n    audioPlayer.appendChild(unmuteIcon);\n\n    const muteIcon = document.createElement('button');\n    muteIcon.setAttribute('class', 'kg-audio-mute-icon kg-audio-hide');\n    const muteIconSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    muteIconSvg.setAttribute('viewBox', '0 0 24 24');\n    const mutePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    mutePath.setAttribute('d', 'M16.177 4.3a.248.248 0 0 0 .073-.176v-1.1a1 1 0 0 0-1.061-1 9.728 9.728 0 0 0-7.924 4.85.249.249 0 0 1-.221.133H5.25a3 3 0 0 0-3 3v2a3 3 0 0 0 3 3h.114a.251.251 0 0 0 .177-.073ZM23.707 1.706A1 1 0 0 0 22.293.292l-22 22a1 1 0 0 0 0 1.414l.009.009a1 1 0 0 0 1.405-.009l6.63-6.631A.251.251 0 0 1 8.515 17a.245.245 0 0 1 .177.075 10.081 10.081 0 0 0 6.5 2.92 1 1 0 0 0 1.061-1V9.266a.247.247 0 0 1 .073-.176Z');\n    muteIconSvg.appendChild(mutePath);\n    muteIcon.appendChild(muteIconSvg);\n    audioPlayer.appendChild(muteIcon);\n\n    const volumeSlider = document.createElement('input');\n    volumeSlider.setAttribute('type', 'range');\n    volumeSlider.setAttribute('class', 'kg-audio-volume-slider');\n    volumeSlider.setAttribute('max', '100');\n    volumeSlider.setAttribute('value', '100');\n    audioPlayer.appendChild(volumeSlider);\n\n    audioPlayerContainer.appendChild(audioPlayer);\n    cardDiv.appendChild(audioPlayerContainer);\n\n    return cardDiv;\n}\n","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {AudioParser} from './AudioParser';\nimport {renderAudioNodeToDOM} from './AudioRenderer';\n\nexport const INSERT_AUDIO_COMMAND = createCommand();\nconst NODE_TYPE = 'audio';\n\nexport class AudioNode extends KoenigDecoratorNode {\n    // payload properties\n    __src;\n    __title;\n    __duration;\n    __mimeType;\n    __thumbnailSrc;\n\n    static getType() {\n        return NODE_TYPE;\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    // used by `@tryghost/url-utils` to transform URLs contained in the serialized JSON\n    static get urlTransformMap() {\n        return {\n            src: 'url'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            src: self.__src,\n            title: self.__title,\n            duration: self.__duration,\n            mimeType: self.__mimeType,\n            thumbnailSrc: self.__thumbnailSrc\n        };\n    }\n\n    constructor({src, title, duration, thumbnailSrc, mimeType} = {}, key) {\n        super(key);\n        this.__src = src || '';\n        this.__title = title || '';\n        this.__duration = duration || 0;\n        this.__mimeType = mimeType || '';\n        this.__thumbnailSrc = thumbnailSrc || '';\n    }\n\n    static importJSON(serializedNode) {\n        const {src, title, duration, mimeType, thumbnailSrc} = serializedNode;\n        const node = new this({\n            src,\n            title,\n            mimeType,\n            duration,\n            thumbnailSrc\n        });\n        return node;\n    }\n\n    exportJSON() {\n        // checks if src is a data string\n        const src = this.getSrc();\n        const isBlob = src.startsWith('data:');\n        const dataset = {\n            type: NODE_TYPE,\n            version: 1,\n            src: isBlob ? '<base64String>' : this.getSrc(),\n            title: this.getTitle(),\n            mimeType: this.getMimeType(),\n            duration: this.getDuration(),\n            thumbnailSrc: this.getThumbnailSrc()\n        };\n        return dataset;\n    }\n\n    static importDOM() {\n        const parser = new AudioParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderAudioNodeToDOM(this, options);\n        return {element};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getSrc() {\n        const self = this.getLatest();\n        return self.__src;\n    }\n\n    setSrc(src) {\n        const writable = this.getWritable();\n        return writable.__src = src;\n    }\n\n    getTitle() {\n        const self = this.getLatest();\n        return self.__title;\n    }\n\n    setTitle(title) {\n        const writable = this.getWritable();\n        return writable.__title = title;\n    }\n\n    getDuration() {\n        const self = this.getLatest();\n        return self.__duration;\n    }\n\n    setDuration(duration) {\n        const writable = this.getWritable();\n        return writable.__duration = duration;\n    }\n\n    getMimeType() {\n        const self = this.getLatest();\n        return self.__mimeType;\n    }\n\n    setMimeType(mimeType) {\n        const writable = this.getWritable();\n        return writable.__mimeType = mimeType;\n    }\n\n    getThumbnailSrc() {\n        const self = this.getLatest();\n        return self.__thumbnailSrc;\n    }\n\n    setThumbnailSrc(thumbnailSrc) {\n        const writable = this.getWritable();\n        return writable.__thumbnailSrc = thumbnailSrc;\n    }\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n\n    hasEditMode() {\n        return true;\n    }\n}\n\nexport const $createAudioNode = (dataset) => {\n    return new AudioNode(dataset);\n};\n\nexport function $isAudioNode(node) {\n    return node instanceof AudioNode;\n}\n","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nexport function renderCalloutNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n\n    /* c8 ignore stop */\n\n    const document = options.createDocument();\n\n    const element = document.createElement('div');\n    element.classList.add('kg-card', 'kg-callout-card', `kg-callout-card-${node.getBackgroundColor()}`);\n    if (node.getCalloutEmoji()) {\n        const emojiElement = document.createElement('div');\n        emojiElement.classList.add('kg-callout-emoji');\n        emojiElement.textContent = node.getCalloutEmoji();\n        element.appendChild(emojiElement);\n    }\n    const textElement = document.createElement('div');\n    textElement.classList.add('kg-callout-text');\n    textElement.innerHTML = node.getCalloutText();\n    element.appendChild(textElement);\n    return element;\n}\n","const getColorTag = (nodeElem) => {\n    const colorClass = nodeElem.classList?.value?.match(/kg-callout-card-(\\w+)/);\n    return colorClass && colorClass[1];\n};\n\nexport class CalloutParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            div: (nodeElem) => {\n                const isKgCalloutCard = nodeElem.classList?.contains('kg-callout-card');\n                if (nodeElem.tagName === 'DIV' && isKgCalloutCard) {\n                    return {\n                        conversion(domNode) {\n                            const textNode = domNode?.querySelector('.kg-callout-text');\n                            const emojiNode = domNode?.querySelector('.kg-callout-emoji');\n                            const color = getColorTag(domNode);\n\n                            const payload = {\n                                calloutText: textNode && textNode.innerHTML.trim(),\n                                calloutEmoji: emojiNode && emojiNode.innerHTML.trim(),\n                                backgroundColor: color\n                            };\n\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        },\n                        priority: 1\n                    };\n                }\n                return null;\n            }\n        };\n    }\n}","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {renderCalloutNodeToDOM} from './CalloutRenderer';\nimport {CalloutParser} from './CalloutParser';\n\nexport const INSERT_CALLOUT_COMMAND = createCommand();\nconst NODE_TYPE = 'callout';\n\nexport class CalloutNode extends KoenigDecoratorNode {\n    // payload properties\n    __calloutText;\n    __calloutEmoji;\n    __backgroundColor;\n\n    static getType() {\n        return NODE_TYPE;\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            calloutText: self.__calloutText,\n            calloutEmoji: self.__calloutEmoji,\n            backgroundColor: self.__backgroundColor\n        };\n    }\n\n    constructor({calloutText, calloutEmoji, backgroundColor} = {}, key) {\n        super(key);\n        this.__calloutText = calloutText || '';\n        this.__calloutEmoji = calloutEmoji || '💡';\n        this.__backgroundColor = backgroundColor || 'blue';\n    }\n\n    static importJSON(serializedNode) {\n        const {calloutText, backgroundColor, calloutEmoji} = serializedNode;\n        return new this({\n            calloutText,\n            calloutEmoji,\n            backgroundColor\n        });\n    }\n\n    exportJSON() {\n        const dataset = {\n            type: NODE_TYPE,\n            version: 1,\n            calloutText: this.getCalloutText(),\n            calloutEmoji: this.getCalloutEmoji(),\n            backgroundColor: this.getBackgroundColor()\n        };\n        return dataset;\n    }\n\n    static importDOM() {\n        const parser = new CalloutParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderCalloutNodeToDOM(this, options);\n        return {element};\n    }\n\n    createDom() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDom() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n\n    getCalloutText() {\n        const self = this.getLatest();\n        return self.__calloutText;\n    }\n\n    setCalloutText(text) {\n        const writeable = this.getWritable();\n        writeable.__calloutText = text;\n    }\n\n    getBackgroundColor() {\n        const self = this.getLatest();\n        return self.__backgroundColor;\n    }\n\n    setBackgroundColor(color) {\n        const writeable = this.getWritable();\n        writeable.__backgroundColor = color;\n    }\n\n    getCalloutEmoji() {\n        const self = this.getLatest();\n        return self.__calloutEmoji;\n    }\n\n    setCalloutEmoji(emoji) {\n        const writeable = this.getWritable();\n        writeable.__calloutEmoji = emoji;\n    }\n\n    decorate() {\n        return '';\n    }\n\n    hasEditMode() {\n        return true;\n    }\n}\n\nexport function $isCalloutNode(node) {\n    return node instanceof CalloutNode;\n}\n\nexport const $createCalloutNode = (dataset) => {\n    return new CalloutNode(dataset);\n};\n","export class AsideParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            blockquote: () => ({\n                conversion(domNode) {\n                    const isBigQuote = domNode.classList?.contains('kg-blockquote-alt');\n                    if (domNode.tagName === 'BLOCKQUOTE' && isBigQuote) {\n                        const node = new self.NodeClass();\n                        return {node};\n                    }\n\n                    return null;\n                },\n                priority: 0\n            })\n        };\n    }\n}\n","import {ElementNode} from 'lexical';\nimport {AsideParser} from './AsideParser';\n\nexport class AsideNode extends ElementNode {\n    static getType() {\n        return 'aside';\n    }\n\n    static clone(node) {\n        return new this(\n            node.__key\n        );\n    }\n\n    // used by `@tryghost/url-utils` to transform URLs contained in the serialized JSON\n    static get urlTransformMap() {\n        return {};\n    }\n\n    constructor(key) {\n        super(key);\n    }\n\n    static importJSON(serializedNode) {\n        const node = new this();\n        node.setFormat(serializedNode.format);\n        node.setIndent(serializedNode.indent);\n        node.setDirection(serializedNode.direction);\n        return node;\n    }\n\n    exportJSON() {\n        const dataset = {\n            ...super.exportJSON(),\n            type: 'aside',\n            version: 1\n        };\n        return dataset;\n    }\n\n    static importDOM() {\n        const parser = new AsideParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n}\n\nexport function $createAsideNode() {\n    return new AsideNode();\n}\n\nexport function $isAsideNode(node) {\n    return node instanceof AsideNode;\n}\n","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nexport function renderHorizontalRuleToDOM(_, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n\n    const hr = document.createElement('hr');\n    return hr;\n}\n","export class HorizontalRuleParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            hr: () => ({\n                conversion() {\n                    const node = new self.NodeClass();\n                    return {node};\n                },\n                priority: 0\n            })\n        };\n    }\n}\n","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {renderHorizontalRuleToDOM} from './HorizontalRuleRenderer';\nimport {HorizontalRuleParser} from './HorizontalRuleParser';\n\nexport const INSERT_HORIZONTAL_RULE_COMMAND = createCommand();\n\nexport class HorizontalRuleNode extends KoenigDecoratorNode {\n    static getType() {\n        return 'horizontalrule';\n    }\n\n    static clone(node) {\n        return new this(\n            node.__key\n        );\n    }\n\n    // used by `@tryghost/url-utils` to transform URLs contained in the serialized JSON\n    static get urlTransformMap() {\n        return {};\n    }\n\n    constructor(key) {\n        super(key);\n    }\n\n    static importJSON() {\n        const node = new this();\n        return node;\n    }\n\n    exportJSON() {\n        const dataset = {\n            type: 'horizontalrule',\n            version: 1\n        };\n        return dataset;\n    }\n\n    static importDOM() {\n        const parser = new HorizontalRuleParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderHorizontalRuleToDOM(this, options);\n        return {element};\n    }\n\n    getTextContent() {\n        return '\\n';\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n}\n\nexport function $createHorizontalRuleNode() {\n    return new HorizontalRuleNode();\n}\n\nexport function $isHorizontalRuleNode(node) {\n    return node instanceof HorizontalRuleNode;\n}\n","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nexport function renderHtmlNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n\n    const html = node.getHtml() || '';\n\n    const div = document.createElement('div');\n\n    div.innerHTML = html;\n\n    return div;\n}\n","export class HtmlParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            '#comment': () => {\n                return {\n                    conversion(domNode) {\n                        const isCommentNode = domNode.nodeType === 8;\n                        if (isCommentNode && domNode.nodeValue.trim() === 'kg-card-begin: html') {\n                            let html = [];\n                            let nextNode = domNode.nextSibling;\n\n                            while (nextNode && !isHtmlEndComment(nextNode)) {\n                                let currentNode = nextNode;\n                                html.push(currentNode.outerHTML);\n                                nextNode = currentNode.nextSibling;\n                                // remove nodes as we go so that they don't go through the parser\n                                currentNode.remove();\n                            }\n\n                            let payload = {html: html.join('\\n').trim()};\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        }\n\n                        return null;\n                    },\n                    priority: 0\n                };\n            },\n            table: (nodeElem) => {\n                if (nodeElem.nodeType === 1 && nodeElem.tagName === 'TABLE' && nodeElem.parentNode.tagName !== 'TABLE') {\n                    return {\n                        conversion(domNode) {\n                            const payload = {html: domNode.outerHTML};\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        },\n                        priority: 0\n                    };\n                }\n\n                return null;\n            }\n        };\n    }\n}\n\nfunction isHtmlEndComment(node) {\n    return node && node.nodeType === 8 && node.nodeValue === 'kg-card-end: html';\n}\n","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {renderHtmlNodeToDOM} from './HtmlRenderer';\nimport {HtmlParser} from './HtmlParser';\n\nexport const INSERT_HTML_COMMAND = createCommand();\n\nexport class HtmlNode extends KoenigDecoratorNode {\n    __html;\n\n    static getType() {\n        return 'html';\n    }\n\n    static clone(node) {\n        return new this(node.getDataset(), node.__key);\n    }\n\n    // used by `@tryghost/url-utils` to transform URLs contained in the serialized JSON\n    static get urlTransformMap() {\n        return {\n            html: 'html'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            html: self.__html\n        };\n    }\n\n    static importJSON(serializedNode) {\n        const {html} = serializedNode;\n        const node = new this({html});\n        return node;\n    }\n\n    exportJSON() {\n        return {\n            type: 'html',\n            version: 1,\n            html: this.getHtml()\n        };\n    }\n\n    constructor({html} = {}, key) {\n        super(key);\n        this.__html = html;\n    }\n\n    static importDOM() {\n        const parser = new HtmlParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderHtmlNodeToDOM(this, options);\n        return {\n            element,\n            type: 'inner'\n        };\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getHtml() {\n        const self = this.getLatest();\n        return self.__html;\n    }\n\n    setHtml(html) {\n        const writable = this.getWritable();\n        return writable.__html = html;\n    }\n\n    // should be overwritten\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n\n    hasEditMode() {\n        return true;\n    }\n\n    isEmpty() {\n        return !this.__html;\n    }\n}\n\nexport function $createHtmlNode(dataset) {\n    return new HtmlNode(dataset);\n}\n\nexport function $isHtmlNode(node) {\n    return node instanceof HtmlNode;\n}\n","export class ToggleParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            div: () => ({\n                conversion(domNode) {\n                    const isKgToggleCard = domNode.classList?.contains('kg-toggle-card');\n                    if (domNode.tagName === 'DIV' && isKgToggleCard) {\n                        const headingNode = domNode.querySelector('.kg-toggle-heading-text');\n                        const heading = headingNode.textContent;\n\n                        const contentNode = domNode.querySelector('.kg-toggle-content');\n                        const content = contentNode.textContent;\n\n                        const payload = {\n                            heading,\n                            content\n                        };\n\n                        const node = new self.NodeClass(payload);\n                        return {node};\n                    }\n\n                    return null;\n                },\n                priority: 1\n            })\n        };\n    }\n}","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nfunction cardTemplate({node}) {\n    const content = node.getContent();\n    const heading = node.getHeading();\n\n    return (\n        `\n        <div class=\"kg-card kg-toggle-card\" data-kg-toggle-state=\"close\">\n            <div class=\"kg-toggle-heading\">\n                <h4 class=\"kg-toggle-heading-text\">${heading}</h4>\n                <button class=\"kg-toggle-card-icon\">\n                    <svg id=\"Regular\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n                        <path class=\"cls-1\" d=\"M23.25,7.311,12.53,18.03a.749.749,0,0,1-1.06,0L.75,7.311\"></path>\n                    </svg>\n                </button>\n            </div>\n            <div class=\"kg-toggle-content\">${content}</div>\n        </div>\n        `\n    );\n}\n\nfunction emailCardTemplate({node}) {\n    const content = node.getContent();\n    const heading = node.getHeading();\n\n    return (\n        `\n        <div style=\"background: transparent;\n        border: 1px solid rgba(124, 139, 154, 0.25); border-radius: 4px; padding: 20px; margin-bottom: 1.5em;\">\n            <h4 style=\"font-size: 1.375rem; font-weight: 600; margin-bottom: 8px; margin-top:0px\">${heading}</h4>\n            <div style=\"font-size: 1rem; line-height: 1.5; margin-bottom: -1.5em;\">${content}</div>\n        </div>\n        `\n    );\n}\n\nexport function renderToggleNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n\n    const htmlString = options.target === 'email'\n        ? emailCardTemplate({node})\n        : cardTemplate({node});\n\n    const element = document.createElement('div');\n    element.innerHTML = htmlString.trim();\n\n    return element.firstElementChild;\n}","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {ToggleParser} from './ToggleParser';\nimport {renderToggleNodeToDOM} from './ToggleRenderer';\n\nexport const INSERT_TOGGLE_COMMAND = createCommand();\nconst NODE_TYPE = 'toggle';\n\nexport class ToggleNode extends KoenigDecoratorNode {\n    // payload properties\n    __content;\n    __heading;\n\n    static getType() {\n        return NODE_TYPE;\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    static get urlTransformMap() {\n        return {\n            content: 'html',\n            heading: 'html'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            content: self.__content,\n            heading: self.__heading\n        };\n    }\n\n    constructor({content, heading} = {}, key) {\n        super(key);\n        this.__content = content || '';\n        this.__heading = heading || '';\n    }\n\n    static importJSON(serializedNode) {\n        const {content, heading} = serializedNode;\n        return new this({\n            content,\n            heading\n        });\n    }\n\n    exportJSON() {\n        const dataset = {\n            type: NODE_TYPE,\n            version: 1,\n            content: this.getContent(),\n            heading: this.getHeading()\n        };\n        return dataset;\n    }\n\n    static importDOM() {\n        const parser = new ToggleParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderToggleNodeToDOM(this, options);\n        return {element};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        return document.createElement('div');\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getContent() {\n        const self = this.getLatest();\n        return self.__content;\n    }\n\n    setContent(content) {\n        const writable = this.getWritable();\n        return writable.__content = content;\n    }\n\n    getHeading() {\n        const self = this.getLatest();\n        return self.__heading;\n    }\n\n    setHeading(heading) {\n        const writable = this.getWritable();\n        return writable.__heading = heading;\n    }\n\n    hasEditMode() {\n        return true;\n    }\n\n    isEmpty() {\n        return !this.__heading && !this.__content;\n    }\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n}\n\nexport const $createToggleNode = (dataset) => {\n    return new ToggleNode(dataset);\n};\n\nexport function $isToggleNode(node) {\n    return node instanceof ToggleNode;\n}\n","export class ButtonParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            div: (nodeElem) => {\n                const isButtonCard = nodeElem.classList?.contains('kg-button-card');\n                if (nodeElem.tagName === 'DIV' && isButtonCard) {\n                    return {\n                        conversion(domNode) {\n                            const alignmentClass = nodeElem.className.match(/kg-align-(left|center)/);\n                            \n                            let alignment;\n                            if (alignmentClass) {\n                                alignment = alignmentClass[1];\n                            }\n\n                            const buttonNode = domNode?.querySelector('.kg-btn');\n                            const buttonUrl = buttonNode.href;\n                            const buttonText = buttonNode.textContent;\n\n                            const payload = {\n                                buttonText: buttonText,\n                                alignment: alignment,\n                                buttonUrl: buttonUrl\n                            };\n\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        },\n                        priority: 1\n                    };\n                }\n                return null;\n            }\n        };\n    }\n}\n","export function renderButtonNodeToDOM(node, options = {}) {\n    const document = options.createDocument();\n\n    if (!node.getButtonUrl() || node.getButtonUrl().trim() === '') {\n        return document.createTextNode('');\n    }\n\n    if (options.target === 'email') {\n        return emailTemplate(node, document);\n    } else {\n        return frontendTemplate(node, document);\n    }\n}\n\nfunction frontendTemplate(node, document) {\n    const cardClasses = getCardClasses(node);\n\n    const cardDiv = document.createElement('div');\n    cardDiv.setAttribute('class', cardClasses);\n\n    const button = document.createElement('a');\n    button.setAttribute('href', node.getButtonUrl());\n    button.setAttribute('class', 'kg-btn kg-btn-accent');\n    button.textContent = node.getButtonText() || 'Button Title';\n\n    cardDiv.appendChild(button);\n    return cardDiv;\n}\n\nfunction emailTemplate(node, document) {\n    const parent = document.createElement('p');\n    \n    const buttonDiv = document.createElement('div');\n    buttonDiv.setAttribute('class', 'btn btn-accent');\n    parent.appendChild(buttonDiv);\n    \n    const table = document.createElement('table');\n    table.setAttribute('border', 0);\n    table.setAttribute('cellspacing', 0);\n    table.setAttribute('cellpadding', 0);\n    table.setAttribute('alignment',node.getAlignment());\n    buttonDiv.appendChild(table);\n    \n    const row = document.createElement('tr');\n    table.appendChild(row);\n    \n    const cell = document.createElement('td');\n    cell.setAttribute('align', 'center');\n    row.appendChild(cell);\n    \n    const button = document.createElement('a');\n    button.setAttribute('href', node.getButtonUrl());\n    button.textContent = node.getButtonText();\n    cell.appendChild(button);\n\n    return parent;\n}\n\nfunction getCardClasses(node) {\n    let cardClasses = ['kg-card kg-button-card'];\n\n    if (node.getAlignment()) {\n        cardClasses.push(`kg-align-${node.getAlignment()}`);\n    }\n\n    return cardClasses.join(' ');\n}","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {ButtonParser} from './ButtonParser';\nimport {renderButtonNodeToDOM} from './ButtonRenderer';\n\nexport const INSERT_BUTTON_COMMAND = createCommand();\n\nexport class ButtonNode extends KoenigDecoratorNode {\n    // payload properties\n    __buttonText;\n    __alignment;\n    __buttonUrl;\n\n    static getType() {\n        return 'button';\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    // used by `@tryghost/url-utils` to transform URLs contained in the serialized JSON\n    static get urlTransformMap() {\n        return {\n            buttonUrl: 'url'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            buttonText: self.__buttonText,\n            alignment: self.__alignment,\n            buttonUrl: self.__buttonUrl\n        };\n    }\n\n    constructor({buttonText, alignment, buttonUrl} = {}, key) {\n        super(key);\n        this.__buttonText = buttonText || '';\n        this.__alignment = alignment || 'center';\n        this.__buttonUrl = buttonUrl || '';\n    }\n\n    static importJSON(serializedNode) {\n        const {alignment, buttonText, buttonUrl} = serializedNode;\n        const node = new this({\n            alignment,\n            buttonText,\n            buttonUrl\n        });\n        return node;\n    }\n\n    exportJSON() {\n        const dataset = {\n            type: 'button',\n            version: 1,\n            buttonText: this.getButtonText(),\n            alignment: this.getAlignment(),\n            buttonUrl: this.getButtonUrl()\n        };\n        return dataset;\n    }\n\n    // parser used when pasting html >> node\n    static importDOM() {\n        const parser = new ButtonParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    // renderer used when copying node >> html\n    exportDOM(options = {}) {\n        const element = renderButtonNodeToDOM(this, options);\n        return {element};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getButtonText() {\n        const self = this.getLatest();\n        return self.__buttonText;\n    }\n\n    setButtonText(buttonText) {\n        const writable = this.getWritable();\n        return writable.__buttonText = buttonText;\n    }\n\n    getAlignment() {\n        const self = this.getLatest();\n        return self.__alignment;\n    }\n\n    setAlignment(alignment) {\n        const writable = this.getWritable();\n        return writable.__alignment = alignment;\n    }\n\n    getButtonUrl() {\n        const self = this.getLatest();\n        return self.__buttonUrl;\n    }\n\n    setButtonUrl(buttonUrl) {\n        const writable = this.getWritable();\n        return writable.__buttonUrl = buttonUrl;\n    }\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n\n    hasEditMode() {\n        return true;\n    }\n}\n\nexport const $createButtonNode = (dataset) => {\n    return new ButtonNode(dataset);\n};\n\nexport function $isButtonNode(node) {\n    return node instanceof ButtonNode;\n}\n","export class BookmarkParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            figure: (nodeElem) => {\n                const isKgBookmarkCard = nodeElem.classList?.contains('kg-bookmark-card');\n                if (nodeElem.tagName === 'FIGURE' && isKgBookmarkCard) {\n                    return {\n                        conversion(domNode) {\n                            const url = domNode?.querySelector('.kg-bookmark-container').href;\n                            const icon = domNode?.querySelector('.kg-bookmark-icon').src;\n                            const title = domNode?.querySelector('.kg-bookmark-title').textContent;\n                            const description = domNode?.querySelector('.kg-bookmark-description').textContent;\n                            const author = domNode?.querySelector('.kg-bookmark-author').textContent;\n                            const publisher = domNode?.querySelector('.kg-bookmark-publisher').textContent;\n                            const thumbnail = domNode?.querySelector('.kg-bookmark-thumbnail img').src;\n                            const caption = domNode?.querySelector('figure.kg-bookmark-card figcaption').textContent;\n                            const payload = {\n                                url: url,\n                                metadata: {\n                                    icon: icon,\n                                    title: title,\n                                    description: description,\n                                    author: author,\n                                    publisher: publisher,\n                                    thumbnail: thumbnail\n                                },\n                                caption: caption\n                            };\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        },\n                        priority: 1\n                    };\n                }\n                return null;\n            },\n            div: (nodeElem) => {\n                if (nodeElem.nodeType === 1 && nodeElem.tagName === 'DIV' && nodeElem.className.match(/graf--mixtapeEmbed/)) {\n                    return {\n                        conversion(domNode) {\n                            // Grab the relevant elements - Anchor wraps most of the data\n                            const anchorElement = domNode.querySelector('.markup--mixtapeEmbed-anchor');\n                            const titleElement = anchorElement.querySelector('.markup--mixtapeEmbed-strong');\n                            const descElement = anchorElement.querySelector('.markup--mixtapeEmbed-em');\n                            // Image is a top level field inside it's own a tag\n                            const imgElement = domNode.querySelector('.mixtapeImage');\n\n                            domNode.querySelector('br').remove();\n                            \n                            // Grab individual values from the elements\n                            const url = anchorElement.href;\n                            let title = '';\n                            let description = '';\n                            let thumbnail = '';\n\n                            if (titleElement && titleElement.innerHTML) {\n                                title = titleElement.innerHTML.trim();\n                                // Cleanup anchor so we can see what's left now that we've processed title\n                                anchorElement.removeChild(titleElement);\n                            }\n                    \n                            if (descElement && descElement.innerHTML) {\n                                description = descElement.innerHTML.trim();\n                                // Cleanup anchor so we can see what's left now that we've processed description\n                                anchorElement.removeChild(descElement);\n                            }\n\n                            // Publisher is the remaining text in the anchor, once title & desc are removed\n                            let publisher = anchorElement.innerHTML.trim();\n\n                            // Image is optional,\n                            // The element usually still exists with an additional has.mixtapeImage--empty class and has no background image\n                            if (imgElement && imgElement.style['background-image']) {\n                                thumbnail = imgElement.style['background-image'].match(/url\\(([^)]*?)\\)/)[1];\n                            }\n\n                            let payload = {url, \n                                metadata: {\n                                    title, \n                                    description, \n                                    publisher, \n                                    thumbnail\n                                }};\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        },\n                        priority: 1\n                    };\n                }\n                return null;\n            }\n        };\n    }\n}\n","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nexport function renderBookmarkNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n\n    if (!node.getUrl() || node.getUrl().trim() === '') {\n        return document.createTextNode('');\n    }\n\n    if (options.target === 'email') {\n        return emailTemplate(node, document);\n    } else {\n        return frontendTemplate(node, document);\n    }\n}\n\nfunction emailTemplate(node, document) {\n    const title = node.getTitle();\n    const publisher = node.getPublisher();\n    const author = node.getAuthor();\n    const icon = node.getIconSrc();\n    const description = node.getDescription();\n    const url = node.getUrl();\n    const thumbnail = node.getThumbnail();\n    const caption = node.getCaption();\n\n    const div = document.createElement('div');\n\n    const html = \n        `\n        <!--[if !mso !vml]-->\n            <figure class=\"kg-card kg-bookmark-card ${caption ? `kg-card-hascaption` : ''}\">\n                <a class=\"kg-bookmark-container\" href=\"${url}\">\n                    <div class=\"kg-bookmark-content\">\n                        <div class=\"kg-bookmark-title\">${title}</div>\n                        <div class=\"kg-bookmark-description\">${description}</div>\n                        <div class=\"kg-bookmark-metadata\">\n                            ${icon ? `<img class=\"kg-bookmark-icon\" src=\"${icon}\" alt=\"\">` : ''}\n                            ${publisher ? `<span class=\"kg-bookmark-publisher\" src=\"${publisher}\">${publisher}</span>` : ''}\n                            ${author ? `<span class=\"kg-bookmark-author\" src=\"${author}\">${author}</span>` : ''}\n                        </div>\n                    </div>\n                    ${thumbnail ? `<div class=\"kg-bookmark-thumbnail\" style=\"background-image: url('${thumbnail}')\">\n                        <img src=\"${thumbnail}\" alt=\"\"></div>` : ''}\n                </a>\n                ${caption ? `<figcaption>${caption}</figcaption>` : ''}\n            </figure>\n        <!--[endif]-->\n        <!--[if vml]>\n            <table class=\"kg-card kg-bookmark-card--outlook\" style=\"margin: 0; padding: 0; width: 100%; border: 1px solid #e5eff5; background: #ffffff; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; border-collapse: collapse; border-spacing: 0;\" width=\"100%\">\n                <tr>\n                    <td width=\"100%\" style=\"padding: 20px;\">\n                        <table style=\"margin: 0; padding: 0; border-collapse: collapse; border-spacing: 0;\">\n                            <tr>\n                                <td class=\"kg-bookmark-title--outlook\">\n                                    <a href=\"${url}\" style=\"text-decoration: none; color: #15212A; font-size: 15px; line-height: 1.5em; font-weight: 600;\">\n                                        ${title}\n                                    </a>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>\n                                    <div class=\"kg-bookmark-description--outlook\">\n                                        <a href=\"${url}\" style=\"text-decoration: none; margin-top: 12px; color: #738a94; font-size: 13px; line-height: 1.5em; font-weight: 400;\">\n                                            ${description}\n                                        </a>\n                                    </div>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td class=\"kg-bookmark-metadata--outlook\" style=\"padding-top: 14px; color: #15212A; font-size: 13px; font-weight: 400; line-height: 1.5em;\">\n                                    <table style=\"margin: 0; padding: 0; border-collapse: collapse; border-spacing: 0;\">\n                                        <tr>\n                                            ${icon ? `\n                                                <td valign=\"middle\" class=\"kg-bookmark-icon--outlook\" style=\"padding-right: 8px; font-size: 0; line-height: 1.5em;\">\n                                                    <a href=\"${url}\" style=\"text-decoration: none; color: #15212A;\">\n                                                        <img src=\"${icon}\" width=\"22\" height=\"22\" alt=\" \">\n                                                    </a>\n                                                </td>\n                                            ` : ''}\n                                            <td valign=\"middle\" class=\"kg-bookmark-byline--outlook\">\n                                                <a href=\"${url}\" style=\"text-decoration: none; color: #15212A;\">\n                                                    ${publisher}\n                                                    ${author ? `&nbsp;&#x2022;&nbsp;` : ''}\n                                                    ${author}\n                                                </a>\n                                            </td>\n                                        </tr>\n                                    </table>\n                                </td>\n                            </tr>\n                        </table>\n                    </td>\n                </tr>\n            </table>\n            <div class=\"kg-bookmark-spacer--outlook\" style=\"height: 1.5em;\">&nbsp;</div>\n        <![endif]-->`;\n\n    div.innerHTML = html;\n    return div;\n}\n\nfunction frontendTemplate(node, document) {\n    const card = document.createElement('figure');\n    const caption = node.getCaption();\n    let cardClass = 'kg-card kg-bookmark-card';\n    if (caption) {\n        cardClass += ' kg-card-hascaption';\n    }\n    card.setAttribute('class', cardClass);\n\n    const container = document.createElement('a');\n    container.setAttribute('class','kg-bookmark-container');\n    container.href = node.getUrl();\n    card.appendChild(container);\n\n    const content = document.createElement('div');\n    content.setAttribute('class','kg-bookmark-content');\n    container.appendChild(content);\n\n    const title = document.createElement('div');\n    title.setAttribute('class','kg-bookmark-title');\n    title.textContent = node.getTitle();\n    content.appendChild(title);\n\n    const description = document.createElement('div');\n    description.setAttribute('class','kg-bookmark-description');\n    description.textContent = node.getDescription();\n    content.appendChild(description);\n\n    const metadata = document.createElement('div');\n    metadata.setAttribute('class','kg-bookmark-metadata');\n    content.appendChild(metadata);\n\n    metadata.icon = node.getIconSrc();\n    if (metadata.icon) {\n        const icon = document.createElement('img');\n        icon.setAttribute('class','kg-bookmark-icon');\n        icon.src = metadata.icon;\n        icon.alt = '';\n        metadata.appendChild(icon);\n    }\n\n    metadata.author = node.getAuthor();\n    if (metadata.author) {\n        const author = document.createElement('span');\n        author.setAttribute('class','kg-bookmark-author');\n        author.textContent = metadata.author;\n        metadata.appendChild(author);\n    }\n\n    metadata.publisher = node.getPublisher();\n    if (metadata.publisher) {\n        const publisher = document.createElement('span');\n        publisher.setAttribute('class','kg-bookmark-publisher');\n        publisher.textContent = metadata.publisher;\n        metadata.appendChild(publisher);\n    }\n\n    metadata.thumbnail = node.getThumbnail();\n    if (metadata.thumbnail) {\n        const thumbnailDiv = document.createElement('div');\n        thumbnailDiv.setAttribute('class','kg-bookmark-thumbnail');\n        container.appendChild(thumbnailDiv);\n\n        const thumbnail = document.createElement('img');\n        thumbnail.src = metadata.thumbnail;\n        thumbnail.alt = '';\n        thumbnailDiv.appendChild(thumbnail);\n    }\n\n    if (caption) {\n        const figCaption = document.createElement('figcaption');\n        figCaption.textContent = caption;\n        card.appendChild(figCaption);\n    }\n\n    return card;\n}\n","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {BookmarkParser} from './BookmarkParser';\nimport {renderBookmarkNodeToDOM} from './BookmarkRenderer';\n\nexport const INSERT_BOOKMARK_COMMAND = createCommand();\n\nexport class BookmarkNode extends KoenigDecoratorNode {\n    // payload properties\n    __url;\n    __icon;\n    __title;\n    __description;\n    __author;\n    __publisher;\n    __thumbnail;\n    __caption;\n\n    static getType() {\n        return 'bookmark';\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    // used by `@tryghost/url-utils` to transform URLs contained in the serialized JSON\n    static get urlTransformMap() {\n        return {\n            url: 'url',\n            icon: 'url',\n            thumbnail: 'url'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            url: self.__url,\n            metadata: {\n                icon: self.__icon,\n                title: self.__title,\n                description: self.__description,\n                author: self.__author,\n                publisher: self.__publisher,\n                thumbnail: self.__thumbnail\n            },\n            caption: self.__caption\n        \n        };\n    }\n\n    constructor({url, metadata, caption} = {}, key) {\n        super(key);\n        this.__url = url || '';\n        this.__icon = metadata?.icon || '';\n        this.__title = metadata?.title || '';\n        this.__description = metadata?.description || '';\n        this.__author = metadata?.author || '';\n        this.__publisher = metadata?.publisher || '';\n        this.__thumbnail = metadata?.thumbnail || '';\n        this.__caption = caption || '';\n    }\n\n    static importJSON(serializedNode) {\n        const {url, metadata, caption} = serializedNode;\n        const node = new this({\n            url,\n            metadata,\n            caption\n        });\n        return node;\n    }\n\n    exportJSON() {\n        const dataset = {\n            type: 'bookmark',\n            version: 1,\n            url: this.getUrl(),\n            metadata: {\n                icon: this.getIconSrc(),\n                title: this.getTitle(),\n                description: this.getDescription(),\n                author: this.getAuthor(),\n                publisher: this.getPublisher(),\n                thumbnail: this.getThumbnail()\n            },\n            caption: this.getCaption()\n        };\n        return dataset;\n    }\n\n    // parser used when pasting html >> node\n    static importDOM() {\n        const parser = new BookmarkParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    // renderer used when copying node >> html\n    exportDOM(options = {}) {\n        const element = renderBookmarkNodeToDOM(this, options);\n        return {element};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getUrl() {\n        const self = this.getLatest();\n        return self.__url;\n    }\n\n    setUrl(url) {\n        const writable = this.getWritable();\n        return writable.__url = url;\n    }\n\n    // getIcon() is reserved for the card's icon in the editor\n    getIconSrc() {\n        const self = this.getLatest();\n        return self.__icon;\n    }\n\n    setIconSrc(icon) {\n        const writable = this.getWritable();\n        return writable.__icon = icon;\n    }\n\n    getTitle() {\n        const self = this.getLatest();\n        return self.__title;\n    }\n\n    setTitle(title) {\n        const writable = this.getWritable();\n        return writable.__title = title;\n    }\n    \n    getDescription() {\n        const self = this.getLatest();\n        return self.__description;\n    }\n\n    setDescription(description) {\n        const writable = this.getWritable();\n        return writable.__description = description;\n    }\n\n    getAuthor() {\n        const self = this.getLatest();\n        return self.__author;\n    }\n\n    setAuthor(author) {\n        const writable = this.getWritable();\n        return writable.__author = author;\n    }\n\n    getPublisher() {\n        const self = this.getLatest();\n        return self.__publisher;\n    }\n\n    setPublisher(publisher) {\n        const writable = this.getWritable();\n        return writable.__publisher = publisher;\n    }\n\n    getThumbnail() {\n        const self = this.getLatest();\n        return self.__thumbnail;\n    }\n\n    setThumbnail(thumbnail) {\n        const writable = this.getWritable();\n        return writable.__thumbnail = thumbnail;\n    }\n\n    getCaption() {\n        const self = this.getLatest();\n        return self.__caption;\n    }\n\n    setCaption(caption) {\n        const writable = this.getWritable();\n        return writable.__caption = caption;\n    }\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n\n    hasEditMode() {\n        return true;\n    }\n\n    isEmpty() {\n        return !this.__url;\n    }\n}\n\nexport const $createBookmarkNode = (dataset) => {\n    return new BookmarkNode(dataset);\n};\n\nexport function $isBookmarkNode(node) {\n    return node instanceof BookmarkNode;\n}\n","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nexport function renderFileNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n  \n    const document = options.createDocument();\n  \n    if (!node.getSrc() || node.getSrc().trim() === '') {\n        return document.createTextNode('');\n    }\n  \n    const card = document.createElement('div');\n    card.setAttribute('class', 'kg-card kg-file-card');\n  \n    const container = document.createElement('a');\n    container.setAttribute('class', 'kg-file-card-container');\n    container.setAttribute('href', node.getSrc());\n    container.setAttribute('title', 'Download');\n    container.setAttribute('download', '');\n  \n    const contents = document.createElement('div');\n    contents.setAttribute('class', 'kg-file-card-contents');\n  \n    const title = document.createElement('div');\n    title.setAttribute('class', 'kg-file-card-title');\n    title.textContent = node.getFileTitle() || '';\n  \n    const caption = document.createElement('div');\n    caption.setAttribute('class', 'kg-file-card-caption');\n    caption.textContent = node.getFileCaption() || '';\n  \n    const metadata = document.createElement('div');\n    metadata.setAttribute('class', 'kg-file-card-metadata');\n  \n    const filename = document.createElement('div');\n    filename.setAttribute('class', 'kg-file-card-filename');\n    filename.textContent = node.getFileName() || '';\n  \n    const filesize = document.createElement('div');\n    filesize.setAttribute('class', 'kg-file-card-filesize');\n    filesize.textContent = node.getFormattedFileSize() || '';\n  \n    metadata.appendChild(filename);\n    metadata.appendChild(filesize);\n  \n    contents.appendChild(title);\n    contents.appendChild(caption);\n    contents.appendChild(metadata);\n  \n    container.appendChild(contents);\n  \n    const icon = document.createElement('div');\n    icon.setAttribute('class', 'kg-file-card-icon');\n  \n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svg.setAttribute('viewBox', '0 0 24 24');\n  \n    const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');\n  \n    const style = document.createElementNS('http://www.w3.org/2000/svg', 'style');\n    style.textContent = '.a{fill:none;stroke:currentColor;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px;}';\n  \n    defs.appendChild(style);\n  \n    const titleElement = document.createElementNS('http://www.w3.org/2000/svg', 'title');\n    titleElement.textContent = 'download-circle';\n  \n    const polyline = document.createElementNS('http://www.w3.org/2000/svg', 'polyline');\n    polyline.setAttribute('class', 'a');\n    polyline.setAttribute('points', '8.25 14.25 12 18 15.75 14.25');\n  \n    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n    line.setAttribute('class', 'a');\n    line.setAttribute('x1', '12');\n    line.setAttribute('y1', '6.75');\n    line.setAttribute('x2', '12');\n    line.setAttribute('y2', '18');\n  \n    const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n    circle.setAttribute('class', 'a');\n    circle.setAttribute('cx', '12');\n    circle.setAttribute('cy', '12');\n    circle.setAttribute('r', '11.25');\n  \n    svg.appendChild(defs);\n    svg.appendChild(titleElement);\n    svg.appendChild(polyline);\n    svg.appendChild(line);\n    svg.appendChild(circle);\n  \n    icon.appendChild(svg);\n  \n    container.appendChild(icon);\n  \n    card.appendChild(container);\n  \n    return card;\n}\n","function sizeToBytes(size) {\n    if (!size) {\n        return 0;\n    }\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    const sizeParts = size.split(' ');\n    const sizeNumber = parseFloat(sizeParts[0]);\n    const sizeUnit = sizeParts[1];\n    const sizeUnitIndex = sizes.indexOf(sizeUnit);\n    if (sizeUnitIndex === -1) {\n        return 0;\n    }\n    return Math.round(sizeNumber * Math.pow(1024, sizeUnitIndex));\n}\nexport class FileParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            div: (nodeElem) => {\n                const isKgFileCard = nodeElem.classList?.contains('kg-file-card');\n                if (nodeElem.tagName === 'DIV' && isKgFileCard) {\n                    return {\n                        conversion(domNode) {\n                            const link = domNode.querySelector('a');\n                            const src = link.getAttribute('href');\n                            const fileTitle = domNode.querySelector('.kg-file-card-title')?.textContent || '';\n                            const fileCaption = domNode.querySelector('.kg-file-card-caption')?.textContent || '';\n                            const fileName = domNode.querySelector('.kg-file-card-filename')?.textContent || '';\n                            let fileSize = sizeToBytes(domNode.querySelector('.kg-file-card-filesize')?.textContent || '');\n                            const payload = {\n                                src,\n                                fileTitle,\n                                fileCaption,\n                                fileName,\n                                fileSize\n                            };\n\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        },\n                        priority: 1\n                    };\n                }\n                return null;\n            }\n        };\n    }\n}\n","import {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {renderFileNodeToDOM} from './FileRenderer';\nimport {FileParser} from './FileParser';\nimport {createCommand} from 'lexical';\n\nexport const INSERT_FILE_COMMAND = createCommand();\n\nexport function bytesToSize(bytes) {\n    if (!bytes) {\n        return '0 Byte';\n    }\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) {\n        return '0 Byte';\n    }\n    const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n    return Math.round((bytes / Math.pow(1024, i))) + ' ' + sizes[i];\n}\n\nexport class FileNode extends KoenigDecoratorNode {\n    // file payload properties\n    __src;\n    __fileTitle;\n    __fileCaption;\n    __fileName;\n    __fileSize;\n\n    static getType() {\n        return 'file';\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    static get urlTransformMap() {\n        return {\n            src: 'url'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            src: self.__src,\n            fileTitle: self.__fileTitle,\n            fileCaption: self.__fileCaption,\n            fileName: self.__fileName,\n            fileSize: self.__fileSize\n        };\n    }\n\n    constructor({src, fileTitle, fileCaption, fileName, fileSize} = {}, key) {\n        super(key);\n        this.__src = src || '';\n        this.__fileTitle = fileTitle || '';\n        this.__fileCaption = fileCaption || '';\n        this.__fileName = fileName || '';\n        this.__fileSize = fileSize || '';\n    }\n\n    static importJSON(serializedNode) {\n        const {src, fileTitle, fileCaption, fileName, fileSize} = serializedNode;\n\n        return new this({\n            src,\n            fileTitle,\n            fileCaption,\n            fileName,\n            fileSize\n        });\n    }\n\n    exportJSON() {\n        const src = this.getSrc();\n        const isBlob = src.startsWith('data:');\n        return {\n            type: this.getType(),\n            src: isBlob ? '<base64String>' : this.getSrc(),\n            fileTitle: this.getFileTitle(),\n            fileCaption: this.getFileCaption(),\n            fileName: this.getFileName(),\n            fileSize: this.getFileSize()\n        };\n    }\n\n    static importDOM() {\n        const parser = new FileParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderFileNodeToDOM(this, options);\n        return {element};\n    }\n\n    // c8 ignore start\n    createDOM() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n\n    getSrc() {\n        const self = this.getLatest();\n        return self.__src;\n    }\n\n    setSrc(src) {\n        const writable = this.getWritable();\n        writable.__src = src;\n    }\n\n    getFileTitle() {\n        const self = this.getLatest();\n        return self.__fileTitle;\n    }\n\n    setFileTitle(fileTitle) {\n        const writable = this.getWritable();\n        writable.__fileTitle = fileTitle;\n    }\n\n    getFileCaption() {\n        const self = this.getLatest();\n        return self.__fileCaption;\n    }\n\n    setFileCaption(fileCaption) {\n        const writable = this.getWritable();\n        writable.__fileCaption = fileCaption;\n    }\n\n    getFileName() {\n        const self = this.getLatest();\n        return self.__fileName;\n    }\n\n    setFileName(fileName) {\n        const writable = this.getWritable();\n        writable.__fileName = fileName;\n    }\n\n    getFileSize() {\n        const self = this.getLatest();\n        return self.__fileSize;\n    }\n\n    setFileSize(size) {\n        const writable = this.getWritable();\n        writable.__fileSize = size;\n    }\n\n    getFormattedFileSize() {\n        const self = this.getLatest();\n        return bytesToSize(self.__fileSize);\n    }\n\n    hasEditMode() {\n        return true;\n    }\n    // c8 ignore stop\n    decorate() {\n        return '';\n    }\n}\n\nexport function $isFileNode(node) {\n    return node instanceof FileNode;\n}\n\nexport const $createFileNode = (dataset) => {\n    return new FileNode(dataset);\n};\n\n","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nfunction slugify(str) {\n    // Remove any non-word character with whitespace\n    str = str.replace(/[^\\w\\s]/gi, '');\n\n    // Replace any whitespace character with a dash\n    str = str.replace(/\\s+/g, '-');\n\n    // Convert to lowercase\n    str = str.toLowerCase();\n\n    return str;\n}\n\nexport function renderHeaderNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n\n    if (!node.getHeader() && !node.getSubheader() && (!node.getButtonEnabled() || (!node.getButtonUrl() || !node.getButtonText()))) {\n        return document.createTextNode('');\n    }\n\n    const templateData = {\n        size: node.getSize(),\n        style: node.getStyle(),\n        buttonEnabled: node.getButtonEnabled() && Boolean(node.getButtonUrl()) && Boolean(node.getButtonText()),\n        buttonUrl: node.getButtonUrl(),\n        buttonText: node.getButtonText(),\n        header: node.getHeader(),\n        headerSlug: slugify(node.getHeader()),\n        subheader: node.getSubheader(),\n        subheaderSlug: slugify(node.getSubheader()),\n        hasHeader: !!node.getHeader(),\n        hasSubheader: !!node.getSubheader() && !!node.getSubheader().replace(/(<br>)+$/g).trim(),\n        backgroundImageStyle: node.getStyle() === 'image' ? `background-image: url(${node.getBackgroundImageSrc()})` : '',\n        backgroundImageSrc: node.getBackgroundImageSrc()\n    };\n\n    const div = document.createElement('div');\n    div.classList.add('kg-card', 'kg-header-card', 'kg-width-full', `kg-size-${templateData.size}`, `kg-style-${templateData.style}`);\n    div.setAttribute('data-kg-background-image', templateData.backgroundImageSrc);\n    div.setAttribute('style', templateData.backgroundImageStyle);\n\n    if (templateData.hasHeader) {\n        const headerElement = document.createElement('h2');\n        headerElement.classList.add('kg-header-card-header');\n        headerElement.setAttribute('id', templateData.headerSlug);\n        headerElement.innerHTML = templateData.header;\n        div.appendChild(headerElement);\n    }\n\n    if (templateData.hasSubheader) {\n        const subheaderElement = document.createElement('h3');\n        subheaderElement.classList.add('kg-header-card-subheader');\n        subheaderElement.setAttribute('id', templateData.subheaderSlug);\n        subheaderElement.innerHTML = templateData.subheader;\n        div.appendChild(subheaderElement);\n    }\n\n    if (templateData.buttonEnabled) {\n        const buttonElement = document.createElement('a');\n        buttonElement.classList.add('kg-header-card-button');\n        buttonElement.setAttribute('href', templateData.buttonUrl);\n        buttonElement.textContent = templateData.buttonText;\n        div.appendChild(buttonElement);\n    }\n\n    return div;\n}\n","export class HeaderParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            div: (nodeElem) => {\n                const isHeaderCard = nodeElem.classList?.contains('kg-header-card');\n                if (nodeElem.tagName === 'DIV' && isHeaderCard) {\n                    return {\n                        conversion(domNode) {\n                            const div = domNode;\n                            const headerElement = domNode.querySelector('.kg-header-card-header');\n                            const subheaderElement = domNode.querySelector('.kg-header-card-subheader');\n                            const buttonElement = domNode.querySelector('.kg-header-card-button');\n                            const size = div.classList.contains('kg-size-large') ? 'large' : 'small';\n                            const style = div.classList.contains('kg-style-image') ? 'image' : 'text';\n                            const backgroundImageSrc = div.getAttribute('data-kg-background-image');\n                            const hasHeader = !!headerElement;\n                            const header = hasHeader ? headerElement.textContent : '';\n                            const headerSlug = hasHeader ? headerElement.getAttribute('id') : '';\n                            const hasSubheader = !!subheaderElement;\n                            const subheader = hasSubheader ? subheaderElement.textContent : '';\n                            const subheaderSlug = hasSubheader ? subheaderElement.getAttribute('id') : '';\n                            const buttonEnabled = !!buttonElement;\n                            const buttonUrl = buttonEnabled ? buttonElement.getAttribute('href') : '';\n                            const buttonText = buttonEnabled ? buttonElement.textContent : '';\n\n                            const payload = {\n                                size,\n                                style,\n                                backgroundImageSrc,\n                                header,\n                                headerSlug,\n                                subheader,\n                                subheaderSlug,\n                                buttonEnabled,\n                                buttonUrl,\n                                buttonText\n                            };\n\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        },\n                        priority: 1\n                    };\n                }\n                return null;\n            }\n        };\n    }\n}\n","import {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {renderHeaderNodeToDOM} from './HeaderRenderer';\nimport {HeaderParser} from './HeaderParser';\nimport {createCommand} from 'lexical';\n\nexport const INSERT_HEADER_COMMAND = createCommand();\nconst NODE_TYPE = 'header';\n\nexport class HeaderNode extends KoenigDecoratorNode {\n    // header payload properties\n    __size;\n    __style;\n    __buttonEnabled;\n    __buttonUrl;\n    __buttonText;\n    __header;\n    __subheader;\n    __backgroundImageSrc;\n\n    static getType() {\n        return NODE_TYPE;\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    static get urlTransformMap() {\n        return {\n            buttonUrl: 'url',\n            backgroundImageSrc: 'url',\n            header: 'html',\n            subheader: 'html'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            size: self.__size,\n            style: self.__style,\n            buttonEnabled: self.__buttonEnabled,\n            buttonUrl: self.__buttonUrl,\n            buttonText: self.__buttonText,\n            header: self.__header,\n            subheader: self.__subheader,\n            backgroundImageSrc: self.__backgroundImageSrc\n        };\n    }\n\n    constructor({size,\n        style,\n        buttonEnabled,\n        buttonUrl,\n        buttonText,\n        header,\n        subheader,\n        backgroundImageSrc} = {}, key) {\n        super(key);\n        this.__size = size || 'small';\n        this.__style = style || 'dark';\n        this.__buttonEnabled = buttonEnabled || false;\n        this.__buttonUrl = buttonUrl || '';\n        this.__buttonText = buttonText || '';\n        this.__header = header || '';\n        this.__subheader = subheader || '';\n        this.__backgroundImageSrc = backgroundImageSrc || '';\n    }\n\n    static importJSON(serializedNode) {\n        const {size, style, buttonEnabled, buttonUrl, buttonText, header, subheader, backgroundImageSrc} = serializedNode;\n        const node = new this({\n            size,\n            style,\n            buttonEnabled,\n            buttonUrl,\n            buttonText,\n            header,\n            subheader,\n            backgroundImageSrc\n        });\n        return node;\n    }\n\n    exportJSON() {\n        const dataset = {\n            type: NODE_TYPE,\n            version: 1,\n            size: this.getSize(),\n            style: this.getStyle(),\n            buttonEnabled: this.getButtonEnabled(),\n            buttonUrl: this.getButtonUrl(),\n            buttonText: this.getButtonText(),\n            header: this.getHeader(),\n            subheader: this.getSubheader(),\n            backgroundImageSrc: this.getBackgroundImageSrc()\n        };\n        return dataset;\n    }\n\n    static importDOM() {\n        const parser = new HeaderParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderHeaderNodeToDOM(this, options);\n        return {element};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        return document.createElement('div');\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n\n    getSize() {\n        const self = this.getLatest();\n        return self.__size;\n    }\n\n    setSize(size) {\n        const writable = this.getWritable();\n        writable.__size = size;\n    }\n\n    getStyle() {\n        const self = this.getLatest();\n        return self.__style;\n    }\n\n    setStyle(style) {\n        const writable = this.getWritable();\n        writable.__style = style;\n    }\n\n    getButtonEnabled() {\n        const self = this.getLatest();\n        return self.__buttonEnabled;\n    }\n\n    setButtonEnabled(buttonEnabled) {\n        const writable = this.getWritable();\n        writable.__buttonEnabled = buttonEnabled;\n    }\n\n    getButtonUrl() {\n        const self = this.getLatest();\n        return self.__buttonUrl;\n    }\n\n    setButtonUrl(buttonUrl) {\n        const writable = this.getWritable();\n        writable.__buttonUrl = buttonUrl;\n    }\n\n    getButtonText() {\n        const self = this.getLatest();\n        return self.__buttonText;\n    }\n\n    setButtonText(buttonText) {\n        const writable = this.getWritable();\n        writable.__buttonText = buttonText;\n    }\n\n    getHeader() {\n        const self = this.getLatest();\n        return self.__header;\n    }\n\n    setHeader(header) {\n        const writable = this.getWritable();\n        writable.__header = header;\n    }\n\n    getSubheader() {\n        const self = this.getLatest();\n        return self.__subheader;\n    }\n\n    setSubheader(subheader) {\n        const writable = this.getWritable();\n        writable.__subheader = subheader;\n    }\n\n    getBackgroundImageSrc() {\n        const self = this.getLatest();\n        return self.__backgroundImageSrc;\n    }\n\n    setBackgroundImageSrc(backgroundImageSrc) {\n        const writable = this.getWritable();\n        writable.__backgroundImageSrc = backgroundImageSrc;\n    }\n\n    hasEditMode() {\n        return true;\n    }\n\n    isEmpty() {\n        return !this.header && !this.subheader && (!this.__buttonEnabled || (!this.__buttonText && !this.__buttonUrl)) && !this.__backgroundImageSrc;\n    }\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n}\n\nexport const $createHeaderNode = (dataset) => {\n    return new HeaderNode(dataset);\n};\n\nexport function $isHeaderNode(node) {\n    return node instanceof HeaderNode;\n}\n","export class PaywallParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            '#comment': () => {\n                return {\n                    conversion(domNode) {\n                        const isCommentNode = domNode.nodeType === 8;\n                        if (isCommentNode && domNode.nodeValue.trim() === 'members-only') {\n                            const node = new self.NodeClass();\n                            return {node};\n                        }\n\n                        return null;\n                    },\n                    priority: 0\n                };\n            }\n        };\n    }\n}\n","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nexport function renderPaywallNodeToDOM(_, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n    const div = document.createElement('div');\n\n    div.innerHTML = '<!--members-only-->';\n\n    return div;\n}\n","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {PaywallParser} from './PaywallParser';\nimport {renderPaywallNodeToDOM} from './PaywallRenderer';\n\nexport const INSERT_PAYWALL_COMMAND = createCommand();\nconst NODE_TYPE = 'paywall';\n\nexport class PaywallNode extends KoenigDecoratorNode {\n    static getType() {\n        return NODE_TYPE;\n    }\n\n    static clone(node) {\n        return new this(\n            node.__key\n        );\n    }\n\n    static get urlTransformMap() {\n        return {};\n    }\n\n    constructor(key) {\n        super(key);\n    }\n\n    static importJSON() {\n        const node = new this();\n        return node;\n    }\n\n    exportJSON() {\n        const dataset = {\n            type: NODE_TYPE,\n            version: 1\n        };\n        return dataset;\n    }\n\n    static importDOM() {\n        const parser = new PaywallParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderPaywallNodeToDOM(this, options);\n        return {element, type: 'inner'};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        return document.createElement('div');\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n}\n\nexport const $createPaywallNode = (dataset) => {\n    return new PaywallNode(dataset);\n};\n\nexport function $isPaywallNode(node) {\n    return node instanceof PaywallNode;\n}\n","import {readCaptionFromElement} from '../../utils/read-caption-from-element';\n\nexport class ProductParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            div: () => ({\n                conversion(domNode) {\n                    const isKgProductCard = domNode.classList?.contains('kg-product-card');\n                    if (domNode.tagName === 'DIV' && isKgProductCard) {\n                        const title = readCaptionFromElement(domNode, {selector: '.kg-product-card-title'});\n                        const description = readCaptionFromElement(domNode, {selector: '.kg-product-card-description'});\n\n                        const payload = {\n                            productButtonEnabled: false,\n                            productRatingEnabled: false,\n                            productTitle: title,\n                            productDescription: description\n                        };\n\n                        const img = domNode.querySelector('.kg-product-card-image');\n                        if (img && img.getAttribute('src')) {\n                            payload.productImageSrc = img.getAttribute('src');\n\n                            if (img.getAttribute('width')) {\n                                payload.productImageWidth = img.getAttribute('width');\n                            }\n\n                            if (img.getAttribute('height')) {\n                                payload.productImageHeight = img.getAttribute('height');\n                            }\n                        }\n\n                        const stars = [...domNode.querySelectorAll('.kg-product-card-rating-active')].length;\n                        if (stars) {\n                            payload.productRatingEnabled = true;\n                            payload.productStarRating = stars;\n                        }\n\n                        const button = domNode.querySelector('a');\n\n                        if (button) {\n                            const buttonUrl = button.href;\n                            const buttonText = getButtonText(button);\n\n                            if (buttonUrl && buttonText) {\n                                payload.productButtonEnabled = true;\n                                payload.productButton = buttonText;\n                                payload.productUrl = buttonUrl;\n                            }\n                        }\n\n                        if (!title && !description && !img && !button) {\n                            return null;\n                        }\n\n                        const node = new self.NodeClass(payload);\n                        return {node};\n                    }\n\n                    return null;\n                },\n                priority: 1\n            })\n        };\n    }\n}\n\nfunction getButtonText(node) {\n    let buttonText = node.textContent;\n    if (buttonText) {\n        buttonText = buttonText.replace(/\\n/g, ' ').replace(/\\s+/g, ' ').trim();\n    }\n    return buttonText;\n}\n","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\nexport function renderProductNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n\n    if (node.isEmpty()) {\n        return document.createTextNode('');\n    }\n\n    const templateData = {\n        ...node.getDataset(),\n        starIcon: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12.729,1.2l3.346,6.629,6.44.638a.805.805,0,0,1,.5,1.374l-5.3,5.253,1.965,7.138a.813.813,0,0,1-1.151.935L12,19.934,5.48,23.163a.813.813,0,0,1-1.151-.935L6.294,15.09.99,9.837a.805.805,0,0,1,.5-1.374l6.44-.638L11.271,1.2A.819.819,0,0,1,12.729,1.2Z\"/></svg>`\n    };\n\n    const starActiveClasses = 'kg-product-card-rating-active';\n    for (let i = 1; i <= 5; i++) {\n        templateData['star' + i] = '';\n        if (node.getProductStarRating() >= i) {\n            templateData['star' + i] = starActiveClasses;\n        }\n    }\n\n    const htmlString = options.target === 'email'\n        ? emailCardTemplate({data: templateData})\n        : cardTemplate({data: templateData});\n\n    const element = document.createElement('div');\n    element.innerHTML = htmlString.trim();\n\n    return element.firstElementChild;\n}\n\nexport function cardTemplate({data}) {\n    return (\n        `\n        <div class=\"kg-card kg-product-card\">\n            <div class=\"kg-product-card-container\">\n                ${data.productImageSrc ? `<img src=\"${data.productImageSrc}\" ${data.productImageWidth ? `width=\"${data.productImageWidth}\"` : ''} ${data.productImageHeight ? `height=\"${data.productImageHeight}\"` : ''} class=\"kg-product-card-image\" loading=\"lazy\" />` : ''}\n                <div class=\"kg-product-card-title-container\">\n                    <h4 class=\"kg-product-card-title\">${data.productTitle}</h4>\n                </div>\n                ${data.productRatingEnabled ? `\n                    <div class=\"kg-product-card-rating\">\n                        <span class=\"${data.star1} kg-product-card-rating-star\">${data.starIcon}</span>\n                        <span class=\"${data.star2} kg-product-card-rating-star\">${data.starIcon}</span>\n                        <span class=\"${data.star3} kg-product-card-rating-star\">${data.starIcon}</span>\n                        <span class=\"${data.star4} kg-product-card-rating-star\">${data.starIcon}</span>\n                        <span class=\"${data.star5} kg-product-card-rating-star\">${data.starIcon}</span>\n                    </div>\n                ` : ''}\n\n                <div class=\"kg-product-card-description\">${data.productDescription}</div>\n                ${data.productButtonEnabled ? `\n                    <a href=\"${data.productUrl}\" class=\"kg-product-card-button kg-product-card-btn-accent\" target=\"_blank\" rel=\"noopener noreferrer\"><span>${data.productButton}</span></a>\n                ` : ''}\n            </div>\n        </div>\n    `\n    );\n}\n\nexport function emailCardTemplate({data}) {\n    return (\n        `\n         <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"width:100%; padding:20px; border:1px solid #E9E9E9; border-radius: 5px; margin: 0 0 1.5em; width: 100%;\">\n            ${data.productImageSrc ? `\n                <tr>\n                    <td align=\"center\" style=\"padding-top:0; padding-bottom:0; margin-bottom:0; padding-bottom:0;\">\n                        <img src=\"${data.productImageSrc}\" ${data.productImageWidth ? `width=\"${data.productImageWidth}\"` : ''} ${data.productImageHeight ? `height=\"${data.productImageHeight}\"` : ''} style=\"height: auto; border: none; padding-bottom: 16px;\" border=\"0\">\n                    </td>\n                </tr>\n            ` : ''}\n            <tr>\n                <td valign=\"top\">\n                    <h4 style=\"font-size: 22px !important; margin-top: 0 !important; margin-bottom: 0 !important; font-weight: 700;\">${data.productTitle}</h4>\n                </td>\n            </tr>\n            ${data.productRatingEnabled ? `\n                <tr style=\"padding-top:0; padding-bottom:0; margin-bottom:0; padding-bottom:0;\">\n                    <td valign=\"top\">\n                        <img src=\"${`https://static.ghost.org/v4.0.0/images/star-rating-${data.productStarRating}.png`}\" style=\"border: none; width: 96px;\" border=\"0\">\n                    </td>\n                </tr>\n            ` : ''}\n            <tr>\n                <td style=\"padding-top:0; padding-bottom:0; margin-bottom:0; padding-bottom:0;\">\n                    <div style=\"padding-top: 8px; opacity: 0.7; font-size: 17px; line-height: 1.4; margin-bottom: -24px;\">${data.productDescription}</div>\n                </td>\n            </tr>\n            ${data.productButtonEnabled ? `\n                <tr>\n                    <td style=\"padding-top:0; padding-bottom:0; margin-bottom:0; padding-bottom:0;\">\n                        <div class=\"btn btn-accent\" style=\"box-sizing: border-box;display: table;width: 100%;padding-top: 16px;\">\n                            <a href=\"${data.productUrl}\" style=\"overflow-wrap: anywhere;border: solid 1px;border-radius: 5px;box-sizing: border-box;cursor: pointer;display: inline-block;font-size: 14px;font-weight: bold;margin: 0;padding: 0;text-decoration: none;color: #FFFFFF; width: 100%; text-align: center;\"><span style=\"display: block;padding: 12px 25px;\">${data.productButton}</span></a>\n                        </div>\n                    </td>\n                </tr>\n            ` : ''}\n        </table>\n        `\n    );\n}\n","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {ProductParser} from './ProductParser';\nimport {renderProductNodeToDOM} from './ProductRenderer';\n\nexport const INSERT_PRODUCT_COMMAND = createCommand();\nconst NODE_TYPE = 'product';\n\nexport class ProductNode extends KoenigDecoratorNode {\n    // payload properties\n    __productImageSrc;\n    __productImageWidth;\n    __productImageHeight;\n    __productTitle;\n    __productDescription;\n    __productRatingEnabled;\n    __productStarRating;\n    __productButtonEnabled;\n    __productButton;\n    __productUrl;\n\n    static getType() {\n        return NODE_TYPE;\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    // used by `@tryghost/url-utils` to transform URLs contained in the serialized JSON\n    static get urlTransformMap() {\n        return {\n            productImageSrc: 'url',\n            productTitle: 'html',\n            productDescription: 'html'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            productImageSrc: self.__productImageSrc,\n            productImageWidth: self.__productImageWidth,\n            productImageHeight: self.__productImageHeight,\n            productTitle: self.__productTitle,\n            productDescription: self.__productDescription,\n            productRatingEnabled: self.__productRatingEnabled,\n            productStarRating: self.__productStarRating,\n            productButtonEnabled: self.__productButtonEnabled,\n            productButton: self.__productButton,\n            productUrl: self.__productUrl\n        };\n    }\n\n    constructor({productImageSrc, productImageWidth, productImageHeight, productTitle, productDescription, productRatingEnabled, productStarRating, productButtonEnabled, productButton, productUrl} = {}, key) {\n        super(key);\n        this.__productImageSrc = productImageSrc || '';\n        this.__productImageWidth = productImageWidth || null;\n        this.__productImageHeight = productImageHeight || null;\n        this.__productTitle = productTitle || '';\n        this.__productDescription = productDescription || '';\n        this.__productRatingEnabled = !!productRatingEnabled;\n        this.__productStarRating = productStarRating || 5;\n        this.__productButtonEnabled = !!productButtonEnabled;\n        this.__productButton = productButton || '';\n        this.__productUrl = productUrl || '';\n    }\n\n    static importJSON(serializedNode) {\n        const {productImageSrc, productImageWidth, productImageHeight, productTitle, productDescription, productRatingEnabled, productStarRating, productButtonEnabled, productButton, productUrl} = serializedNode;\n        const node = new this({\n            productImageSrc,\n            productImageWidth,\n            productImageHeight,\n            productTitle,\n            productDescription,\n            productRatingEnabled,\n            productStarRating,\n            productButtonEnabled,\n            productButton,\n            productUrl\n        });\n        return node;\n    }\n\n    exportJSON() {\n        // checks if src is a data string\n        const src = this.getProductImageSrc();\n        const isBlob = src.startsWith('data:');\n        const dataset = {\n            type: NODE_TYPE,\n            version: 1,\n            productImageSrc: isBlob ? '<base64String>' : this.getProductImageSrc(),\n            productImageWidth: this.getProductImageWidth(),\n            productImageHeight: this.getProductImageHeight(),\n            productTitle: this.getProductTitle(),\n            productDescription: this.getProductDescription(),\n            productRatingEnabled: this.getProductRatingEnabled(),\n            productStarRating: this.getProductStarRating(),\n            productButtonEnabled: this.getProductButtonEnabled(),\n            productButton: this.getProductButton(),\n            productUrl: this.getProductUrl()\n\n        };\n        return dataset;\n    }\n\n    static importDOM() {\n        const parser = new ProductParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderProductNodeToDOM(this, options);\n        return {element};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getProductImageSrc() {\n        const self = this.getLatest();\n        return self.__productImageSrc;\n    }\n\n    setProductImageSrc(productImageSrc) {\n        const writable = this.getWritable();\n        return writable.__productImageSrc = productImageSrc;\n    }\n\n    getProductImageWidth() {\n        const self = this.getLatest();\n        return self.__productImageWidth;\n    }\n\n    setProductImageWidth(productImageWidth) {\n        const writable = this.getWritable();\n        return writable.__productImageWidth = productImageWidth;\n    }\n\n    getProductImageHeight() {\n        const self = this.getLatest();\n        return self.__productImageHeight;\n    }\n\n    setProductImageHeight(productImageHeight) {\n        const writable = this.getWritable();\n        return writable.__productImageHeight = productImageHeight;\n    }\n\n    getProductTitle() {\n        const self = this.getLatest();\n        return self.__productTitle;\n    }\n\n    setProductTitle(title) {\n        const writable = this.getWritable();\n        return writable.__productTitle = title;\n    }\n\n    getProductDescription() {\n        const self = this.getLatest();\n        return self.__productDescription;\n    }\n\n    setProductDescription(description) {\n        const writable = this.getWritable();\n        return writable.__productDescription = description;\n    }\n\n    getProductRatingEnabled() {\n        const self = this.getLatest();\n        return self.__productRatingEnabled;\n    }\n\n    setProductRatingEnabled(productRatingEnabled) {\n        const writable = this.getWritable();\n        return writable.__productRatingEnabled = productRatingEnabled;\n    }\n\n    getProductStarRating() {\n        const self = this.getLatest();\n        return self.__productStarRating;\n    }\n\n    setProductStarRating(starRating) {\n        const writable = this.getWritable();\n        return writable.__productStarRating = starRating;\n    }\n\n    getProductButtonEnabled() {\n        const self = this.getLatest();\n        return self.__productButtonEnabled;\n    }\n\n    setProductButtonEnabled(productButtonEnabled) {\n        const writable = this.getWritable();\n        return writable.__productButtonEnabled = productButtonEnabled;\n    }\n\n    getProductButton() {\n        const self = this.getLatest();\n        return self.__productButton;\n    }\n\n    setProductButton(productButton) {\n        const writable = this.getWritable();\n        return writable.__productButton = productButton;\n    }\n\n    getProductUrl() {\n        const self = this.getLatest();\n        return self.__productUrl;\n    }\n\n    setProductUrl(productUrl) {\n        const writable = this.getWritable();\n        return writable.__productUrl = productUrl;\n    }\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n\n    hasEditMode() {\n        return true;\n    }\n\n    isEmpty() {\n        const isButtonFilled = this.__productButtonEnabled && this.__productUrl && this.__productButton;\n        return !this.__productTitle && !this.__productDescription && !isButtonFilled && !this.__productImageSrc && !this.__productRatingEnabled;\n    }\n}\n\nexport const $createProductNode = (dataset) => {\n    return new ProductNode(dataset);\n};\n\nexport function $isProductNode(node) {\n    return node instanceof ProductNode;\n}\n","import {readCaptionFromElement} from '../../utils/read-caption-from-element.js';\n\n// TODO: add NFT card parser\nexport class EmbedParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            figure: (nodeElem) => {\n                if (nodeElem.nodeType === 1 && nodeElem.tagName === 'FIGURE') {\n                    const iframe = nodeElem.querySelector('iframe');\n                    if (iframe) {\n                        return {\n                            conversion(domNode) {\n                                const payload = _createPayloadForIframe(iframe);\n\n                                if (!payload) {\n                                    return null;\n                                }\n\n                                payload.caption = readCaptionFromElement(domNode);\n\n                                const node = new self.NodeClass(payload);\n                                return {node};\n                            },\n                            priority: 1\n                        };\n                    }\n                    const blockquote = nodeElem.querySelector('blockquote');\n                    if (blockquote) {\n                        return {\n                            conversion(domNode) {\n                                const link = domNode.querySelector('a');\n                                if (!link) {\n                                    return null;\n                                }\n\n                                let url = link.href;\n\n                                // If we don't have a url, or it's not an absolute URL, we can't handle this\n                                if (!url || !url.match(/^https?:\\/\\//i)) {\n                                    return null;\n                                }\n\n                                let payload = {url: url};\n\n                                // append caption, remove element from blockquote\n                                payload.caption = readCaptionFromElement(domNode);\n                                let figcaption = domNode.querySelector('figcaption');\n                                figcaption?.remove();\n\n                                payload.html = domNode.innerHTML;\n\n                                const node = new self.NodeClass(payload);\n                                return {node};\n                            },\n                            priority: 1\n                        };\n                    }\n                }\n                return null;\n            },\n            iframe: (nodeElem) => {\n                if (nodeElem.nodeType === 1 && nodeElem.tagName === 'IFRAME') {\n                    return {\n                        conversion(domNode) {\n                            const payload = _createPayloadForIframe(domNode);\n\n                            if (!payload) {\n                                return null;\n                            }\n\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        },\n                        priority: 1\n                    };\n                }\n                return null;\n            }\n        };\n    }\n}\n\nfunction _createPayloadForIframe(iframe) {\n    // If we don't have a src Or it's not an absolute URL, we can't handle this\n    // This regex handles http://, https:// or //\n    if (!iframe.src || !iframe.src.match(/^(https?:)?\\/\\//i)) {\n        return;\n    }\n\n    // if it's a schemaless URL, convert to https\n    if (iframe.src.match(/^\\/\\//)) {\n        iframe.src = `https:${iframe.src}`;\n    }\n\n    let payload = {\n        url: iframe.src\n    };\n\n    payload.html = iframe.outerHTML;\n\n    return payload;\n}","import {DateTime} from 'luxon';\nimport {toArray} from 'lodash';\n\nexport default function render(node, document, options) {\n    const metadata = node.getMetadata();\n\n    const figure = document.createElement('figure');\n    figure.setAttribute('class', 'kg-card kg-embed-card');\n\n    let html = node.getHtml();  \n\n    const tweetData = metadata && metadata.tweet_data;\n    const container = document.createElement('div');\n    const isEmail = options.target === 'email';\n\n    if (tweetData && isEmail) {\n        const tweetId = tweetData.id;\n        const numberFormatter = new Intl.NumberFormat('en-US', {\n            style: 'decimal',\n            notation: 'compact',\n            unitDisplay: 'narrow',\n            maximumFractionDigits: 1\n        });\n        const retweetCount = numberFormatter.format(tweetData.public_metrics.retweet_count);\n        const likeCount = numberFormatter.format(tweetData.public_metrics.like_count);\n        const authorUser = tweetData.users && tweetData.users.find(user => user.id === tweetData.author_id);\n        const tweetTime = DateTime.fromISO(tweetData.created_at).toLocaleString(DateTime.TIME_SIMPLE);\n        const tweetDate = DateTime.fromISO(tweetData.created_at).toLocaleString(DateTime.DATE_MED);\n\n        const mentions = tweetData.entities && tweetData.entities.mentions || [];\n        const urls = tweetData.entities && tweetData.entities.urls || [];\n        const hashtags = tweetData.entities && tweetData.entities.hashtags || [];\n        const entities = mentions.concat(urls).concat(hashtags).sort((a, b) => a.start - b.start);\n        let tweetContent = tweetData.text;\n\n        let tweetImageUrl = null;\n        const hasImageOrVideo = tweetData.attachments && tweetData.attachments && tweetData.attachments.media_keys;\n        if (hasImageOrVideo) {\n            tweetImageUrl = tweetData.includes.media[0].preview_image_url || tweetData.includes.media[0].url;\n        }\n        const hasPoll = tweetData.attachments && tweetData.attachments && tweetData.attachments.poll_ids;\n\n        if (mentions) {\n            let last = 0;\n            let parts = [];\n            let content = toArray(tweetContent);\n            for (const entity of entities) {\n                let type = 'text';\n                let data = content.slice(entity.start, entity.end + 1).join('').replace(/\\n/g, '<br>');\n                if (entity.url) {\n                    if (!entity.display_url || entity.display_url.startsWith('pic.twitter.com')) {\n                        type = 'img_url';\n                    } else {\n                        type = 'url';\n                        data = data.replace(entity.url, entity.display_url);\n                    }\n                }\n                if (entity.username) {\n                    type = 'mention';\n                }\n                if (entity.tag) {\n                    type = 'hashtag';\n                }\n                parts.push({\n                    type: 'text',\n                    data: content.slice(last, entity.start).join('').replace(/\\n/g, '<br>')\n                });\n                parts.push({\n                    type: type,\n                    data: data\n                });\n                last = entity.end + 1;\n            }\n            parts.push({\n                type: 'text',\n                data: content.slice(last, content.length).join('').replace(/\\n/g, '<br>')\n            });\n\n            tweetContent = parts.reduce((partContent, part) => {\n                if (part.type === 'text') {\n                    return partContent + part.data;\n                }\n                if (part.type === 'mention') {\n                    return partContent + `<span style=\"color: #1DA1F2;\">${part.data}</span>`;\n                }\n                if (part.type === 'hashtag') {\n                    return partContent + `<span style=\"color: #1DA1F2;\">${part.data}</span>`;\n                }\n                if (part.type === 'url') {\n                    return partContent + `<span style=\"color: #1DA1F2; word-break: break-all;\">${part.data}</span>`;\n                }\n                return partContent;\n            }, '');\n        }\n\n        html = `\n        <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" class=\"kg-twitter-card\">\n            <tr>\n                <td>\n                    <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                        ${authorUser ? `\n                            <tr>\n                                ${authorUser.profile_image_url ? `<td width=\"48\" style=\"width: 48px;\">\n                                    <a href=\"https://twitter.com/twitter/status/${tweetId}\" class=\"kg-twitter-link\" style=\"padding-left: 16px; padding-top: 16px;\"><img src=\"${authorUser.profile_image_url}\" style=\"max-width: 512px; border: none; width: 48px; height: 48px; border-radius: 999px;\" border=\"0\"></a>\n                                </td>` : ''}\n                                ${authorUser.name ? `\n                                <td style=\"line-height: 1.3em; width: 100%;\">\n                                    <a href=\"https://twitter.com/twitter/status/${tweetId}\" class=\"kg-twitter-link\" style=\"font-size: 15px !important; font-weight: 600; width: 100%; padding-top: 20px; padding-bottom: 18px;\">${authorUser.name} <br> <span style=\"color: #ABB4BE; font-size: 14px; font-weight: 500;\">@${authorUser.username}</span></a>\n                                </td>` : ''}\n                                <td align=\"right\" width=\"24\" style=\"width: 24px;\">\n                                    <a href=\"https://twitter.com/twitter/status/${tweetId}\" class=\"kg-twitter-link\" style=\"padding-right: 16px; padding-top: 20px; width: 24px; height: 38px;\"><img src=\"https://static.ghost.org/v4.0.0/images/twitter-logo-small.png\" width=\"24\" border=\"0\"></a>\n                                </td>\n                            </tr>\n                        ` : ''}\n                        <tr>\n                            <td colspan=\"3\">\n                                <a href=\"https://twitter.com/twitter/status/${tweetId}\" class=\"kg-twitter-link\" style=\"font-size: 15px; line-height: 1.4em; padding-top: 8px; padding-left: 16px; padding-right: 16px; padding-bottom: 16px;\">${tweetContent}\n                                ${hasPoll ? `<br><span style=\"color: #1DA1F2;\">View poll &rarr;</span>` : ''}\n                                </a>\n                            </td>\n                        </tr>\n                        ${hasImageOrVideo ? `<tr>\n                            <td colspan=\"3\" align=\"center\" style=\"width: 100%;\">\n                                <a href=\"https://twitter.com/twitter/status/${tweetId}\" style=\"display: block; padding-top: 0; padding-left: 16px; padding-right: 16px; padding-bottom: 0;\"><img src=\"${tweetImageUrl}\" style=\"width: 100%; border: 1px solid #E9E9E9; max-width: 528px; border-radius: 10px;\" border=\"0\"></a>\n                            </td>\n                        </tr>` : ''}\n                        <tr>\n                            <td colspan=\"3\" style=\"width: 100%;\">\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                                    <tr>\n                                        <td>\n                                        <a href=\"https://twitter.com/twitter/status/${tweetId}\" class=\"kg-twitter-link\" style=\"padding-top: 4px; padding-right: 16px; padding-bottom: 12px; padding-left: 16px;\"><span style=\"color: #838383;\">${tweetTime} &bull; ${tweetDate}</span></a>\n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"3\" style=\"width: 100%;\">\n                                <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\" style=\"border-top: 1px solid #E9E9E9;\">\n                                    <tr>\n                                        <td>\n                                            <a href=\"https://twitter.com/twitter/status/${tweetId}\" class=\"kg-twitter-link\" style=\"padding-top: 12px; padding-right: 16px; padding-bottom: 12px; padding-left: 16px;\">\n                                                <span style=\"font-weight: 600;\">${likeCount}</span> <span style=\"color: #838383;\">likes &bull;</span>\n                                                <span style=\"font-weight: 600;\">${retweetCount}</span> <span style=\"color: #838383;\">retweets</span>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                </table>\n                            </td>\n                        </tr>\n                    </table>\n                </td>\n            </tr>\n        </table>\n        `;\n    }\n\n    container.innerHTML = html.trim();\n    figure.appendChild(container);\n\n    const caption = node.getCaption();\n    if (caption) {\n        const figcaption = document.createElement('figcaption');\n        figcaption.textContent = caption;\n        figure.appendChild(figcaption);\n        figure.setAttribute('class', `${figure.getAttribute('class')} kg-card-hascaption`);\n    }\n\n    return figure;\n}","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\nimport twitterRenderer from './types/twitter';\n\nexport function renderEmbedNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n    const embedType = node.getEmbedType();\n\n    if (embedType === 'twitter') {\n        return twitterRenderer(node, document, options);\n    } \n\n    return renderTemplate(node, document, options);\n}\n\nfunction renderTemplate(node, document, options) {\n    if (node.isEmpty()) {\n        return document.createTextNode('');\n    }\n    const isEmail = options.target === 'email';\n    const metadata = node.getMetadata();\n    const url = node.getUrl();\n    const isVideoWithThumbnail = node.getEmbedType() === 'video' && metadata && metadata.thumbnail_url;\n    const figure = document.createElement('figure');\n    figure.setAttribute('class', 'kg-card kg-embed-card');\n\n    if (isEmail && isVideoWithThumbnail) {\n        const emailTemplateMaxWidth = 600;\n        const thumbnailAspectRatio = metadata.thumbnail_width / metadata.thumbnail_height;\n        const spacerWidth = Math.round(emailTemplateMaxWidth / 4);\n        const spacerHeight = Math.round(emailTemplateMaxWidth / thumbnailAspectRatio);\n        const html = `\n            <!--[if !mso !vml]-->\n            <a class=\"kg-video-preview\" href=\"${url}\" aria-label=\"Play video\" style=\"mso-hide: all\">\n                <table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" width=\"100%\" background=\"${metadata.thumbnail_url}\" role=\"presentation\" style=\"background: url('${metadata.thumbnail_url}') left top / cover; mso-hide: all\">\n                    <tr style=\"mso-hide: all\">\n                        <td width=\"25%\" style=\"visibility: hidden; mso-hide: all\">\n                            <img src=\"https://img.spacergif.org/v1/${spacerWidth}x${spacerHeight}/0a/spacer.png\" alt=\"\" width=\"100%\" border=\"0\" style=\"height: auto; opacity: 0; visibility: hidden; mso-hide: all;\">\n                        </td>\n                        <td width=\"50%\" align=\"center\" valign=\"middle\" style=\"vertical-align: middle; mso-hide: all;\">\n                            <div class=\"kg-video-play-button\" style=\"mso-hide: all\"><div style=\"mso-hide: all\"></div></div>\n                        </td>\n                        <td width=\"25%\" style=\"mso-hide: all\">&nbsp;</td>\n                    </tr>\n                </table>\n            </a>\n            <!--[endif]-->\n\n            <!--[if vml]>\n            <v:group xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:w=\"urn:schemas-microsoft-com:office:word\" coordsize=\"${emailTemplateMaxWidth},${spacerHeight}\" coordorigin=\"0,0\" href=\"${url}\" style=\"width:${emailTemplateMaxWidth}px;height:${spacerHeight}px;\">\n                <v:rect fill=\"t\" stroked=\"f\" style=\"position:absolute;width:${emailTemplateMaxWidth};height:${spacerHeight};\"><v:fill src=\"${metadata.thumbnail_url}\" type=\"frame\"/></v:rect>\n                <v:oval fill=\"t\" strokecolor=\"white\" strokeweight=\"4px\" style=\"position:absolute;left:${Math.round((emailTemplateMaxWidth / 2) - 39)};top:${Math.round((spacerHeight / 2) - 39)};width:78;height:78\"><v:fill color=\"black\" opacity=\"30%\" /></v:oval>\n                <v:shape coordsize=\"24,32\" path=\"m,l,32,24,16,xe\" fillcolor=\"white\" stroked=\"f\" style=\"position:absolute;left:${Math.round((emailTemplateMaxWidth / 2) - 11)};top:${Math.round((spacerHeight / 2) - 17)};width:30;height:34;\" />\n            </v:group>\n            <![endif]-->cd ../\n        `;\n        figure.innerHTML = html.trim();\n    } else {\n        figure.innerHTML = node.getHtml();\n    }\n    \n    const caption = node.getCaption();\n    if (caption) {\n        const figcaption = document.createElement('figcaption');\n        figcaption.textContent = caption;\n        figure.appendChild(figcaption);\n        figure.setAttribute('class', `${figure.getAttribute('class')} kg-card-hascaption`);\n    }\n\n    return figure;\n}\n","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {EmbedParser} from './EmbedParser';\nimport {renderEmbedNodeToDOM} from './EmbedRenderer';\n\nexport const INSERT_EMBED_COMMAND = createCommand();\n\nexport class EmbedNode extends KoenigDecoratorNode {\n    // payload properties\n    __url;\n    __embedType;\n    __html;\n    __metadata;\n    __caption;\n\n    static getType() {\n        return 'embed';\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    // used by `@tryghost/url-utils` to transform URLs contained in the serialized JSON\n    static get urlTransformMap() {\n        return {\n            url: 'url'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            url: self.__url,\n            embedType: self.__embedType,\n            html: self.__html,\n            metadata: self.__metadata,\n            caption: self.__caption\n        };\n    }\n\n    constructor({url, embedType, html, metadata, caption} = {}, key) {\n        super(key);\n        this.__url = url || '';\n        this.__embedType = embedType || '';\n        this.__html = html || '';\n        this.__metadata = metadata || {};\n        this.__caption = caption || '';\n    }\n\n    static importJSON(serializedNode) {\n        const {url, embedType, html, metadata, caption} = serializedNode;\n        const node = new this({\n            url,\n            embedType,\n            html,\n            metadata,\n            caption\n        });\n        return node;\n    }\n\n    exportJSON() {\n        const dataset = {\n            type: 'embed',\n            version: 1,\n            url: this.getUrl(),\n            embedType: this.getEmbedType(),\n            html: this.getHtml(),\n            metadata: this.getMetadata(),\n            caption: this.getCaption()\n        };\n        return dataset;\n    }\n\n    // parser used when pasting html >> node\n    static importDOM() {\n        const parser = new EmbedParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    // renderer used when copying node >> html\n    exportDOM(options = {}) {\n        const element = renderEmbedNodeToDOM(this, options);\n        return {element};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getUrl() {\n        const self = this.getLatest();\n        return self.__url;\n    }\n\n    setUrl(url) {\n        const writable = this.getWritable();\n        return writable.__url = url;\n    }\n\n    getEmbedType() {\n        const self = this.getLatest();\n        return self.__embedType;\n    }\n\n    setEmbedType(type) {\n        const writable = this.getWritable();\n        return writable.__embedType = type;\n    }\n\n    getHtml() {\n        const self = this.getLatest();\n        return self.__html;\n    }\n\n    setHtml(html) {\n        const writable = this.getWritable();\n        return writable.__html = html;\n    }\n\n    getMetadata() {\n        const self = this.getLatest();\n        return self.__metadata;\n    }\n\n    setMetadata(metadata) {\n        const writable = this.getWritable();\n        return writable.__metadata = metadata;\n    }\n\n    getCaption() {\n        const self = this.getLatest();\n        return self.__caption;\n    }\n\n    setCaption(caption) {\n        const writable = this.getWritable();\n        return writable.__caption = caption;\n    }\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n\n    hasEditMode() {\n        return true;\n    }\n\n    isEmpty() {\n        return !this.__url && !this.__html;\n    }\n}\n\nexport const $createEmbedNode = (dataset) => {\n    return new EmbedNode(dataset);\n};\n\nexport function $isEmbedNode(node) {\n    return node instanceof EmbedNode;\n}\n","/**\n * Removes consecutive whitespaces and newlines\n * @param {string} html\n * @returns {string}\n */\nexport function removeSpaces(html) {\n    return html.replace(/\\n/g, ' ').replace(/\\s+/g, ' ').trim();\n}\n\n/**\n * Wraps replacement strings with %%\n * This helps to prevent conflicts between code samples and our replacement strings\n * Example: {foo} -> %%{foo}%%\n * @param {string} html\n * @returns {string}\n */\nexport function wrapReplacementStrings(html) {\n    return html.replace(/\\{(\\w*?)(?:,? *\"(.*?)\")?\\}/g, '%%$&%%');\n}","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\nimport {removeSpaces, wrapReplacementStrings} from '../../utils/replacement-strings';\n\nexport function renderEmailNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n    const document = options.createDocument();\n\n    const html = node.getHtml();\n\n    if (!html || options.target !== 'email') {\n        return document.createTextNode('');\n    }\n\n    const cleanedHtml = wrapReplacementStrings(removeSpaces(html));\n    const div = document.createElement('div');\n    div.innerHTML = cleanedHtml;\n\n    return div;\n}","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {renderEmailNodeToDOM} from './EmailRenderer';\n\nexport const INSERT_EMAIL_COMMAND = createCommand();\nconst NODE_TYPE = 'email';\n\nexport class EmailNode extends KoenigDecoratorNode {\n    // payload properties\n    __html;\n\n    static getType() {\n        return NODE_TYPE;\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    static get urlTransformMap() {\n        return {\n            html: 'html'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            html: self.__html\n        };\n    }\n\n    constructor({html} = {}, key) {\n        super(key);\n        this.__html = html || '';\n    }\n\n    static importJSON(serializedNode) {\n        const {html} = serializedNode;\n        return new this({\n            html\n        });\n    }\n\n    exportJSON() {\n        const dataset = {\n            type: NODE_TYPE,\n            version: 1,\n            html: this.getHtml()\n        };\n        return dataset;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderEmailNodeToDOM(this, options);\n        return {element, type: 'inner'};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        return document.createElement('div');\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getHtml() {\n        const self = this.getLatest();\n        return self.__html;\n    }\n\n    setHtml(html) {\n        const writable = this.getWritable();\n        return writable.__html = html;\n    }\n\n    hasEditMode() {\n        return true;\n    }\n\n    isEmpty() {\n        return !this.__html;\n    }\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n}\n\nexport const $createEmailNode = (dataset) => {\n    return new EmailNode(dataset);\n};\n\nexport function $isEmailNode(node) {\n    return node instanceof EmailNode;\n}\n","import {readCaptionFromElement} from '../../utils/read-caption-from-element.js';\nimport {readImageAttributesFromElement} from '../../utils/read-image-attributes-from-element.js';\n\nfunction readGalleryImageAttributesFromElement(element, imgNum) {\n    const image = readImageAttributesFromElement(element);\n\n    image.fileName = element.src.match(/[^/]*$/)[0];\n    image.row = Math.floor(imgNum / 3);\n\n    return image;\n}\n\nexport class GalleryParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            figure: (nodeElem) => {\n                // Koenig gallery card\n                if (nodeElem.classList?.contains('kg-gallery-card')) {\n                    return {\n                        conversion(domNode) {\n                            const payload = {};\n                            const imgs = Array.from(domNode.querySelectorAll('img'));\n\n                            payload.images = imgs.map(readGalleryImageAttributesFromElement);\n                            payload.caption = readCaptionFromElement(domNode);\n\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        },\n                        priority: 1\n                    };\n                }\n\n                return null;\n            },\n            div: (nodeElem) => {\n                // Medium \"graf\" galleries\n                function isGrafGallery(node) {\n                    return node.tagName === 'DIV'\n                        && node.dataset?.paragraphCount\n                        && node.querySelectorAll('img').length > 0;\n                }\n\n                if (isGrafGallery(nodeElem)) {\n                    return {\n                        conversion(domNode) {\n                            const payload = {\n                                caption: readCaptionFromElement(domNode)\n                            };\n\n                            // These galleries exist as a series of divs containing multiple figure+img.\n                            // Grab the first set of imgs...\n                            let imgs = Array.from(domNode.querySelectorAll('img'));\n\n                            // ...and then iterate over any remaining divs until we run out of matches\n                            let nextNode = domNode.nextElementSibling;\n                            while (nextNode && isGrafGallery(nextNode)) {\n                                let currentNode = nextNode;\n                                imgs = imgs.concat(Array.from(currentNode.querySelectorAll('img')));\n\n                                const currentNodeCaption = readCaptionFromElement(currentNode);\n                                if (currentNodeCaption) {\n                                    payload.caption = `${payload.caption} / ${currentNodeCaption}`;\n                                }\n\n                                nextNode = currentNode.nextElementSibling;\n\n                                // remove nodes as we go so that they don't go through the parser\n                                currentNode.remove();\n                            }\n\n                            payload.images = imgs.map(readGalleryImageAttributesFromElement);\n\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        },\n                        priority: 1\n                    };\n                }\n\n                // Squarespace SQS galleries\n                function isSqsGallery(node) {\n                    return node.tagName === 'DIV'\n                        && node.className.match(/sqs-gallery-container/)\n                        && !node.className.match(/summary-/);\n                }\n\n                if (isSqsGallery(nodeElem)) {\n                    return {\n                        conversion(domNode) {\n                            const payload = {};\n\n                            // Each image exists twice...\n                            // The first image is wrapped in `<noscript>`\n                            // The second image contains image dimensions but the src property needs to be taken from `data-src`.\n                            let imgs = Array.from(domNode.querySelectorAll('img.thumb-image'));\n\n                            imgs = imgs.map((img) => {\n                                if (!img.getAttribute('src')) {\n                                    if (img.previousElementSibling.tagName === 'NOSCRIPT' && img.previousElementSibling.getElementsByTagName('img').length) {\n                                        const prevNode = img.previousElementSibling;\n                                        img.setAttribute('src', img.getAttribute('data-src'));\n                                        prevNode.remove();\n                                    } else {\n                                        return undefined;\n                                    }\n                                }\n\n                                return img;\n                            }).filter(img => img !== undefined);\n\n                            // Process nodes into the payload\n                            payload.images = imgs.map(readGalleryImageAttributesFromElement);\n\n                            payload.caption = readCaptionFromElement(domNode, {selector: '.meta-title'});\n\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        },\n                        priority: 1\n                    };\n                }\n\n                return null;\n            }\n        };\n    }\n}\n","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\nimport {getAvailableImageWidths} from '../../utils/get-available-image-widths';\nimport {isLocalContentImage} from '../../utils/is-local-content-image';\nimport {isUnsplashImage} from '../../utils/is-unsplash-image';\nimport {resizeImage} from '../../utils/resize-image';\nimport {setSrcsetAttribute} from '../../utils/srcset-attribute';\n\nconst MAX_IMG_PER_ROW = 3;\n\nfunction isValidImage(image) {\n    return image.fileName\n        && image.src\n        && image.width\n        && image.height;\n}\n\nfunction buildStructure(images) {\n    const rows = [];\n    const noOfImages = images.length;\n\n    images.forEach((image, idx) => {\n        let row = image.row;\n\n        if (noOfImages > 1 && (noOfImages % MAX_IMG_PER_ROW === 1) && (idx === (noOfImages - 2))) {\n            row = row + 1;\n        }\n        if (!rows[row]) {\n            rows[row] = [];\n        }\n\n        rows[row].push(image);\n    });\n\n    return rows;\n}\n\nexport function renderGalleryNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n\n    const document = options.createDocument();\n\n    const validImages = node.getImages().filter(isValidImage);\n    if (!validImages.length) {\n        return document.createTextNode('');\n    }\n\n    const figure = document.createElement('figure');\n    figure.setAttribute('class', 'kg-card kg-gallery-card kg-width-wide');\n\n    const container = document.createElement('div');\n    container.setAttribute('class', 'kg-gallery-container');\n    figure.appendChild(container);\n\n    const rows = buildStructure(validImages);\n\n    rows.forEach((row) => {\n        const rowDiv = document.createElement('div');\n        rowDiv.setAttribute('class', 'kg-gallery-row');\n\n        row.forEach((image) => {\n            const imgDiv = document.createElement('div');\n            imgDiv.setAttribute('class', 'kg-gallery-image');\n\n            const img = document.createElement('img');\n            img.setAttribute('src', image.src);\n            img.setAttribute('width', image.width);\n            img.setAttribute('height', image.height);\n            img.setAttribute('loading', 'lazy');\n            img.setAttribute('alt', image.alt || '');\n            if (image.title) {\n                img.setAttribute('title', image.title);\n            }\n\n            // images can be resized to max width, if that's the case output\n            // the resized width/height attrs to ensure 3rd party gallery plugins\n            // aren't affected by differing sizes\n            const {canTransformImage} = options;\n            const {defaultMaxWidth} = options.imageOptimization || {};\n            if (\n                defaultMaxWidth &&\n                image.width > defaultMaxWidth &&\n                isLocalContentImage(image.src, options.siteUrl) &&\n                canTransformImage &&\n                canTransformImage(image.src)\n            ) {\n                const {width, height} = resizeImage(image, {width: defaultMaxWidth});\n                img.setAttribute('width', width);\n                img.setAttribute('height', height);\n            }\n\n            // add srcset+sizes except for email clients which do not have good support for either\n            if (options.target !== 'email') {\n                setSrcsetAttribute(img, image, options);\n\n                if (img.getAttribute('srcset') && image.width >= 720) {\n                    if (rows.length === 1 && row.length === 1 && image.width >= 1200) {\n                        img.setAttribute('sizes', '(min-width: 1200px) 1200px');\n                    } else {\n                        img.setAttribute('sizes', '(min-width: 720px) 720px');\n                    }\n                }\n            }\n\n            // Outlook is unable to properly resize images without a width/height\n            // so we modify those to fit max width (600px) and use appropriately\n            // resized images if available\n            if (options.target === 'email') {\n                // only resize if needed, width/height always exists for gallery image unline image cards\n                if (image.width > 600) {\n                    const newImageDimensions = resizeImage(image, {width: 600});\n                    img.setAttribute('width', newImageDimensions.width);\n                    img.setAttribute('height', newImageDimensions.height);\n                }\n\n                if (isLocalContentImage(image.src, options.siteUrl) && options.canTransformImage && options.canTransformImage(image.src)) {\n                    // find available image size next up from 2x600 so we can use it for the \"retina\" src\n                    const availableImageWidths = getAvailableImageWidths(image, options.imageOptimization.contentImageSizes);\n                    const srcWidth = availableImageWidths.find(width => width >= 1200);\n\n                    if (!srcWidth || srcWidth === image.width) {\n                        // do nothing, width is smaller than retina or matches the original payload src\n                    } else {\n                        const [, imagesPath, filename] = image.src.match(/(.*\\/content\\/images)\\/(.*)/);\n                        img.setAttribute('src', `${imagesPath}/size/w${srcWidth}/${filename}`);\n                    }\n                }\n\n                if (isUnsplashImage(image.src)) {\n                    const unsplashUrl = new URL(image.src);\n                    unsplashUrl.searchParams.set('w', 1200);\n                    img.setAttribute('src', unsplashUrl.href);\n                }\n            }\n\n            if (image.href) {\n                const a = document.createElement('a');\n                a.setAttribute('href', image.href);\n                a.appendChild(img);\n                imgDiv.appendChild(a);\n            } else {\n                imgDiv.appendChild(img);\n            }\n            rowDiv.appendChild(imgDiv);\n        });\n\n        container.appendChild(rowDiv);\n    });\n\n    if (node.getCaption()) {\n        let figcaption = document.createElement('figcaption');\n        figcaption.innerHTML = node.getCaption();\n        figure.appendChild(figcaption);\n        figure.setAttribute('class', `${figure.getAttribute('class')} kg-card-hascaption`);\n    }\n\n    return figure;\n}\n","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {GalleryParser} from './GalleryParser';\nimport {renderGalleryNodeToDOM} from './GalleryRenderer';\n\nexport const INSERT_GALLERY_COMMAND = createCommand();\n\nexport class GalleryNode extends KoenigDecoratorNode {\n    // payload properties\n    __images;\n    __caption;\n\n    static getType() {\n        return 'gallery';\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    static get urlTransformMap() {\n        return {\n            caption: 'html',\n            images: {\n                src: 'url',\n                caption: 'html'\n            }\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            images: self.__images,\n            caption: self.__caption\n        };\n    }\n\n    constructor({images, caption} = {}, key) {\n        super(key);\n        this.__images = images || [];\n        this.__caption = caption || '';\n    }\n\n    static importJSON(serializedNode) {\n        const {images, caption} = serializedNode;\n        return new this({images, caption});\n    }\n\n    exportJSON() {\n        return {\n            type: 'gallery',\n            version: 1,\n            images: this.getImages(),\n            caption: this.getCaption()\n        };\n    }\n\n    static importDOM() {\n        const parser = new GalleryParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderGalleryNodeToDOM(this, options);\n        return {element};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        const element = document.createElement('div');\n        return element;\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getImages() {\n        const self = this.getLatest();\n        return self.__images;\n    }\n\n    setImages(images) {\n        const writable = this.getWritable();\n        return writable.__images = images;\n    }\n\n    getCaption() {\n        const self = this.getLatest();\n        return self.__caption;\n    }\n\n    setCaption(caption) {\n        const writable = this.getWritable();\n        return writable.__caption = caption;\n    }\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n\n    hasEditMode() {\n        return false;\n    }\n}\n\nexport const $createGalleryNode = (dataset) => {\n    return new GalleryNode(dataset);\n};\n\nexport function $isGalleryNode(node) {\n    return node instanceof GalleryNode;\n}\n","/**\n * Escape HTML special characters\n * @param {string} unsafe \n * @returns string\n */\nexport function escapeHtml(unsafe) {\n    return unsafe\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#039;');\n}","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\nimport {removeSpaces, wrapReplacementStrings} from '../../utils/replacement-strings';\nimport {escapeHtml} from '../../utils/escape-html';\n\nexport function renderEmailCtaNodeToDOM(node, options = {}) {\n    addCreateDocumentOption(options);\n    const document = options.createDocument();\n\n    const html = node.getHtml();\n    const buttonText = node.getButtonText();\n    const buttonUrl = node.getButtonUrl();\n    const showButton = node.getShowButton();\n    const alignment = node.getAlignment();\n    const segment = node.getSegment();\n    const showDividers = node.getShowDividers();\n\n    const hasButton = showButton && !!buttonText && !!buttonUrl;\n\n    if ((!html && !hasButton) || options.target !== 'email') {\n        return document.createTextNode('');\n    }\n\n    const container = document.createElement('div');\n\n    if (segment) {\n        container.setAttribute('data-gh-segment', segment);\n    }\n\n    if (alignment === 'center') {\n        container.setAttribute('class', 'align-center');\n    }\n\n    if (showDividers) {\n        container.appendChild(document.createElement('hr'));\n    }\n\n    const cleanedHtml = wrapReplacementStrings(removeSpaces(html));\n\n    container.innerHTML = container.innerHTML + cleanedHtml;\n\n    if (hasButton) {\n        const buttonTemplate = `\n            <div class=\"btn btn-accent\">\n                <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\" align=\"${escapeHtml(alignment)}\">\n                    <tbody>\n                        <tr>\n                            <td align=\"center\">\n                                <a href=\"${escapeHtml(buttonUrl)}\">${escapeHtml(buttonText)}</a>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        `;\n\n        const cleanedButton = wrapReplacementStrings(removeSpaces(buttonTemplate));\n        container.innerHTML = container.innerHTML + cleanedButton;\n    }\n\n    if (showDividers) {\n        container.appendChild(document.createElement('hr'));\n    }\n\n    return container;\n}","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {renderEmailCtaNodeToDOM} from './EmailCtaRenderer';\n\nexport const INSERT_EMAIL_CTA_COMMAND = createCommand();\nconst NODE_TYPE = 'email-cta';\n\nexport class EmailCtaNode extends KoenigDecoratorNode {\n    // payload properties\n    __alignment;\n    __buttonText;\n    __buttonUrl;\n    __html;\n    __segment;\n    __showButton;\n    __showDividers;\n\n    static getType() {\n        return NODE_TYPE;\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    static get urlTransformMap() {\n        return {\n            buttonUrl: 'url',\n            html: 'html'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            alignment: self.__alignment,\n            buttonText: self.__buttonText,\n            buttonUrl: self.__buttonUrl,\n            html: self.__html,\n            segment: self.__segment,\n            showButton: self.__showButton,\n            showDividers: self.__showDividers\n        };\n    }\n\n    constructor({alignment, buttonText, buttonUrl, html, segment, showButton, showDividers} = {}, key) {\n        super(key);\n        this.__alignment = alignment || 'left';\n        this.__buttonText = buttonText || '';\n        this.__buttonUrl = buttonUrl || '';\n        this.__html = html || '';\n        this.__segment = segment || 'status:free';\n        this.__showButton = showButton || false;\n        this.__showDividers = showDividers ?? true;\n    }\n\n    static importJSON(serializedNode) {\n        const {alignment, buttonText, buttonUrl, html, segment, showButton, showDividers} = serializedNode;\n        return new this({\n            alignment,\n            buttonText,\n            buttonUrl,\n            html,\n            segment,\n            showButton,\n            showDividers\n        });\n    }\n\n    exportJSON() {\n        const dataset = {\n            type: NODE_TYPE,\n            version: 1,\n            alignment: this.getAlignment(),\n            buttonText: this.getButtonText(),\n            buttonUrl: this.getButtonUrl(),\n            html: this.getHtml(),\n            segment: this.getSegment(),\n            showButton: this.getShowButton(),\n            showDividers: this.getShowDividers()\n        };\n        return dataset;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderEmailCtaNodeToDOM(this, options);\n        return {element};\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        return document.createElement('div');\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getAlignment() {\n        const self = this.getLatest();\n        return self.__alignment;\n    }\n\n    setAlignment(alignment) {\n        const writable = this.getWritable();\n        return writable.__alignment = alignment;\n    }\n\n    getButtonText() {\n        const self = this.getLatest();\n        return self.__buttonText;\n    }\n\n    setButtonText(buttonText) {\n        const writable = this.getWritable();\n        return writable.__buttonText = buttonText;\n    }\n\n    getButtonUrl() {\n        const self = this.getLatest();\n        return self.__buttonUrl;\n    }\n\n    setButtonUrl(buttonUrl) {\n        const writable = this.getWritable();\n        return writable.__buttonUrl = buttonUrl;\n    }\n\n    getHtml() {\n        const self = this.getLatest();\n        return self.__html;\n    }\n\n    setHtml(html) {\n        const writable = this.getWritable();\n        return writable.__html = html;\n    }\n\n    getSegment() {\n        const self = this.getLatest();\n        return self.__segment;\n    }\n\n    setSegment(segment) {\n        const writable = this.getWritable();\n        return writable.__segment = segment;\n    }\n\n    getShowButton() {\n        const self = this.getLatest();\n        return self.__showButton;\n    }\n\n    setShowButton(showButton) {\n        const writable = this.getWritable();\n        return writable.__showButton = showButton;\n    }\n\n    getShowDividers() {\n        const self = this.getLatest();\n        return self.__showDividers;\n    }\n\n    setShowDividers(showDividers) {\n        const writable = this.getWritable();\n        return writable.__showDividers = showDividers;\n    }\n\n    hasEditMode() {\n        return true;\n    }\n\n    isEmpty() {\n        return !this.__html && (!this.__showButton || (!this.__buttonText && !this.__buttonUrl));\n    }\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n}\n\nexport const $createEmailCtaNode = (dataset) => {\n    return new EmailCtaNode(dataset);\n};\n\nexport function $isEmailCtaNode(node) {\n    return node instanceof EmailCtaNode;\n}\n","function rgbToHex(rgb) {\n    if (rgb === 'transparent') {\n        return rgb;\n    }\n\n    try {\n        // Extract the red, green, and blue values from the RGB string\n        const [r, g, b] = rgb.match(/\\d+/g);\n        // Convert each component to hexadecimal\n        const red = parseInt(r, 10).toString(16).padStart(2, '0');\n        const green = parseInt(g, 10).toString(16).padStart(2, '0');\n        const blue = parseInt(b, 10).toString(16).padStart(2, '0');\n        // Concatenate the hexadecimal values\n        const hex = `#${red}${green}${blue}`;\n        return hex;\n    } catch (e) {\n        return null;\n    }\n}\n\nfunction getLayout(domNode) {\n    if (domNode.classList.contains('kg-layout-split')) {\n        return 'split';\n    } else if (domNode.classList.contains('kg-layout-full')) {\n        return 'full';\n    } else if (domNode.classList.contains('kg-layout-wide')) {\n        return 'wide';\n    } else {\n        return 'regular';\n    }\n}\n\nexport class SignupParser {\n    constructor(NodeClass) {\n        this.NodeClass = NodeClass;\n    }\n\n    get DOMConversionMap() {\n        const self = this;\n\n        return {\n            div: (nodeElem) => {\n                const isSignupNode = nodeElem.dataset?.lexicalSignupForm === '';\n                if (nodeElem.tagName === 'DIV' && isSignupNode) {\n                    return {\n                        conversion(domNode) {\n                            const layout = getLayout(domNode);\n                            const header = domNode.querySelector('h2')?.textContent || '';\n                            const subheader = domNode.querySelector('h3')?.textContent || '';\n                            const disclaimer = domNode.querySelector('p')?.textContent || '';\n                            const backgroundImageSrc = layout === 'split'\n                                ? domNode.querySelector('.kg-signup-card-image')?.getAttribute('src')\n                                : domNode.querySelector('.kg-signup-card-container')?.getAttribute('style')?.match(/url\\((.+)\\)/)?.[1] || '';\n                            const backgroundColor = domNode.querySelector('.kg-signup-card-container')?.style.backgroundColor || '';\n                            const buttonColor = domNode.querySelector('.kg-signup-card-button')?.style.backgroundColor || '';\n                            const buttonText = domNode.querySelector('.kg-signup-card-button-default')?.textContent?.trim() || 'Subscribe';\n                            const buttonTextColor = domNode.querySelector('.kg-signup-card-button')?.style.color || '';\n                            const textColor = domNode.querySelector('.kg-signup-card-success')?.style.color || '';\n                            const alignment = domNode.querySelector('.kg-signup-card-container')?.classList.contains('align-center') ? 'center' : 'left';\n                            const successMessage = domNode.querySelector('.kg-signup-card-success')?.textContent?.trim() || '';\n                            const labels = [...domNode.querySelectorAll('input[data-members-label]')].map(input => input.value);\n\n                            const isSwapped = domNode.classList.contains('kg-swapped');\n\n                            const payload = {\n                                layout,\n                                buttonText,\n                                header,\n                                subheader,\n                                disclaimer,\n                                backgroundImageSrc,\n                                backgroundColor: rgbToHex(backgroundColor) || 'accent',\n                                buttonColor: rgbToHex(buttonColor) || '#ffffff',\n                                textColor: rgbToHex(textColor) || '#ffffff',\n                                buttonTextColor: rgbToHex(buttonTextColor) || '#000000',\n                                alignment,\n                                successMessage,\n                                labels,\n                                swapped: isSwapped\n                            };\n\n                            const node = new self.NodeClass(payload);\n                            return {node};\n                        },\n                        priority: 1\n                    };\n                }\n                return null;\n            }\n        };\n    }\n}\n","import {addCreateDocumentOption} from '../../utils/add-create-document-option';\n\n// ref https://ghost.org/docs/themes/members#signup-forms\n\nfunction cardTemplate(nodeData) {\n    const cardClasses = getCardClasses(nodeData).join(' ');\n\n    const backgroundAccent = nodeData.backgroundColor === 'accent' ? 'kg-style-accent' : '';\n    const buttonAccent = nodeData.buttonColor === 'accent' ? 'kg-style-accent' : '';\n    const alignment = nodeData.alignment === 'center' ? 'align-center' : '';\n    const backgroundImageStyle = nodeData.layout === 'split' ? '' : `background-image: url(${nodeData.backgroundImageSrc})`;\n\n    const formTemplate = `\n        <form class=\"kg-signup-card-form\" data-members-form=\"signup\">\n            ${nodeData.labels.map(label => `<input data-members-label type=\"hidden\" value=\"${label}\" />`).join('\\n')}\n            <div class=\"kg-signup-card-fields\">\n                <input class=\"kg-signup-card-input ${buttonAccent}\" style=\"border-color: ${nodeData.buttonColor};\" id=\"email\" data-members-email=\"\" type=\"email\" required=\"true\" placeholder=\"yourname@example.com\" />\n                <button class=\"kg-signup-card-button ${buttonAccent}\" style=\"background-color: ${nodeData.buttonColor}; color: ${nodeData.buttonTextColor};\" type=\"submit\">\n                    <span class=\"kg-signup-card-button-default\">${nodeData.buttonText || 'Subscribe'}</span>\n                    <span class=\"kg-signup-card-button-loading\" style=\"background-color: ${nodeData.buttonColor}\">${loadingIcon()}</span>\n                </button>\n            </div>\n            <div class=\"kg-signup-card-success\" style=\"color: ${nodeData.textColor};\">\n                ${nodeData.successMessage || 'Thanks! Now check your email to confirm.'}\n            </div>\n                <div class=\"kg-signup-card-error\" style=\"color: ${nodeData.textColor};\" data-members-error></div>\n        </form>\n        `;\n\n    return `\n        <div class=\"${cardClasses}\" data-lexical-signup-form style=\"display:none;\">\n            ${nodeData.layout === 'split' ? `<img class=\"kg-signup-card-image ${backgroundAccent}\" style=\"background-color: ${nodeData.backgroundColor};\" src=\"${nodeData.backgroundImageSrc}\" alt=\"\" />` : ''}\n            <div class=\"kg-signup-card-container ${alignment} ${backgroundAccent}\" style=\"background-color: ${nodeData.backgroundColor}; ${backgroundImageStyle}\">\n                <h2 class=\"kg-signup-card-heading\" style=\"color: ${nodeData.textColor};\">${nodeData.header}</h2>\n                <h3 class=\"kg-signup-card-subheading\" style=\"color: ${nodeData.textColor};\">${nodeData.subheader}</h3>\n                ${formTemplate}\n                <p class=\"kg-signup-card-disclaimer\" style=\"color: ${nodeData.textColor};\">${nodeData.disclaimer}</p>\n            </div>\n        </div>\n        `;\n}\n\nfunction loadingIcon() {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" width=\"24\" viewBox=\"0 0 24 24\">\n        <g stroke-linecap=\"round\" stroke-width=\"2\" fill=\"currentColor\" stroke=\"none\" stroke-linejoin=\"round\" class=\"nc-icon-wrapper\">\n            <g class=\"nc-loop-dots-4-24-icon-o\">\n                <circle cx=\"4\" cy=\"12\" r=\"3\"></circle>\n                <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n                <circle cx=\"20\" cy=\"12\" r=\"3\"></circle>\n            </g>\n            <style data-cap=\"butt\">\n                .nc-loop-dots-4-24-icon-o{--animation-duration:0.8s}\n                .nc-loop-dots-4-24-icon-o *{opacity:.4;transform:scale(.75);animation:nc-loop-dots-4-anim var(--animation-duration) infinite}\n                .nc-loop-dots-4-24-icon-o :nth-child(1){transform-origin:4px 12px;animation-delay:-.3s;animation-delay:calc(var(--animation-duration)/-2.666)}\n                .nc-loop-dots-4-24-icon-o :nth-child(2){transform-origin:12px 12px;animation-delay:-.15s;animation-delay:calc(var(--animation-duration)/-5.333)}\n                .nc-loop-dots-4-24-icon-o :nth-child(3){transform-origin:20px 12px}\n                @keyframes nc-loop-dots-4-anim{0%,100%{opacity:.4;transform:scale(.75)}50%{opacity:1;transform:scale(1)}}\n            </style>\n        </g>\n    </svg>`;\n}\n\nexport function renderSignupCardToDOM(dataset, options = {}) {\n    addCreateDocumentOption(options);\n    const document = options.createDocument();\n\n    const node = {\n        alignment: dataset.__alignment,\n        buttonText: dataset.__buttonText,\n        header: dataset.__header,\n        subheader: dataset.__subheader,\n        disclaimer: dataset.__disclaimer,\n        backgroundImageSrc: dataset.__backgroundImageSrc,\n        backgroundColor: dataset.__backgroundColor,\n        buttonColor: dataset.__buttonColor,\n        labels: dataset.__labels,\n        layout: dataset.__layout,\n        textColor: dataset.__textColor,\n        buttonTextColor: dataset.__buttonTextColor,\n        successMessage: dataset.__successMessage,\n        swapped: dataset.__swapped\n    };\n\n    const htmlString = options.target === 'email'\n        ? ''\n        : cardTemplate(node);\n\n    const element = document.createElement('div');\n    element.innerHTML = htmlString?.trim();\n\n    if (node.header === '') {\n        const h2Element = element.querySelector('.kg-signup-card-heading');\n        if (h2Element) {\n            h2Element.remove();\n        }\n    }\n\n    if (node.subheader === '') {\n        const h3Element = element.querySelector('.kg-signup-card-subheading');\n        if (h3Element) {\n            h3Element.remove();\n        }\n    }\n\n    if (node.disclaimer === '') {\n        const pElement = element.querySelector('.kg-signup-card-disclaimer');\n        if (pElement) {\n            pElement.remove();\n        }\n    }\n    return element.firstElementChild;\n}\n\nexport function getCardClasses(nodeData) {\n    let cardClasses = ['kg-card kg-signup-card'];\n\n    if (nodeData.layout && nodeData.layout !== 'split') {\n        cardClasses.push(`kg-width-${nodeData.layout}`);\n    }\n\n    if (nodeData.layout === 'split') {\n        cardClasses.push('kg-layout-split kg-width-full');\n    }\n\n    if (nodeData.swapped && nodeData.layout === 'split') {\n        cardClasses.push('kg-swapped');\n    }\n\n    return cardClasses;\n}\n","import {createCommand} from 'lexical';\nimport {KoenigDecoratorNode} from '../../KoenigDecoratorNode';\nimport {SignupParser} from './SignupParser';\nimport {renderSignupCardToDOM} from './SignupRenderer';\n\nexport const INSERT_SIGNUP_COMMAND = createCommand();\nconst NODE_TYPE = 'signup';\n\nexport class SignupNode extends KoenigDecoratorNode {\n    // payload properties\n    __alignment;\n    __backgroundColor;\n    __backgroundImageSrc;\n    __textColor;\n    __buttonColor;\n    __buttonText;\n    __buttonTextColor;\n    __disclaimer;\n    __header;\n    __labels;\n    __layout;\n    __subheader;\n    __successMessage;\n    __swapped;\n\n    static getType() {\n        return NODE_TYPE;\n    }\n\n    static clone(node) {\n        return new this(\n            node.getDataset(),\n            node.__key\n        );\n    }\n\n    static get urlTransformMap() {\n        return {\n            backgroundImageSrc: 'url',\n            disclaimer: 'html',\n            header: 'html',\n            subheader: 'html'\n        };\n    }\n\n    getDataset() {\n        const self = this.getLatest();\n        return {\n            alignment: self.__alignment,\n            backgroundColor: self.__backgroundColor,\n            backgroundImageSrc: self.__backgroundImageSrc,\n            textColor: self.__textColor,\n            buttonColor: self.__buttonColor,\n            buttonText: self.__buttonText,\n            buttonTextColor: self.__buttonTextColor,\n            disclaimer: self.__disclaimer,\n            header: self.__header,\n            labels: self.__labels,\n            layout: self.__layout,\n            subheader: self.__subheader,\n            successMessage: self.__successMessage,\n            swapped: self.__swapped\n        };\n    }\n\n    constructor({alignment,\n        backgroundColor,\n        backgroundImageSrc,\n        textColor,\n        buttonColor,\n        buttonTextColor,\n        buttonText,\n        disclaimer,\n        header,\n        labels,\n        layout,\n        subheader,\n        swapped,\n        successMessage} = {}, key) {\n        super(key);\n        this.__alignment = alignment || 'left';\n        this.__backgroundColor = backgroundColor || '#F4F4F4';\n        this.__backgroundImageSrc = backgroundImageSrc || '';\n        this.__textColor = textColor || (backgroundColor === 'transparent' ? '' : '#000000');\n        this.__buttonColor = buttonColor || 'accent';\n        this.__buttonTextColor = buttonTextColor || '#FFFFFF';\n        this.__buttonText = buttonText || '';\n        this.__disclaimer = disclaimer || '';\n        this.__header = header || '';\n        this.__labels = labels || [];\n        this.__layout = layout || 'wide';\n        this.__subheader = subheader || '';\n        this.__successMessage = successMessage || 'Email sent! Check your inbox to complete your signup.';\n        this.__swapped = swapped || false;\n    }\n\n    exportDOM(options = {}) {\n        const element = renderSignupCardToDOM(this, options);\n        return {element};\n    }\n\n    static importJSON(serializedNode) {\n        const {alignment,\n            backgroundColor,\n            backgroundImageSrc,\n            textColor,\n            buttonColor,\n            buttonTextColor,\n            buttonText,\n            disclaimer,\n            header,\n            labels,\n            layout,\n            subheader,\n            swapped,\n            successMessage} = serializedNode;\n        const node = new this({\n            alignment,\n            backgroundColor,\n            backgroundImageSrc,\n            textColor,\n            buttonColor,\n            buttonTextColor,\n            buttonText,\n            disclaimer,\n            header,\n            labels,\n            layout,\n            subheader,\n            successMessage,\n            swapped\n        });\n        return node;\n    }\n\n    static importDOM() {\n        const parser = new SignupParser(this);\n        return parser.DOMConversionMap;\n    }\n\n    exportJSON() {\n        const dataset = {\n            type: NODE_TYPE,\n            version: 1,\n            alignment: this.getAlignment(),\n            backgroundColor: this.getBackgroundColor(),\n            backgroundImageSrc: this.getBackgroundImageSrc(),\n            textColor: this.getTextColor(),\n            buttonColor: this.getButtonColor(),\n            buttonTextColor: this.getButtonTextColor(),\n            buttonText: this.getButtonText(),\n            disclaimer: this.getDisclaimer(),\n            header: this.getHeader(),\n            labels: this.getLabels(),\n            layout: this.getLayout(),\n            subheader: this.getSubheader(),\n            successMessage: this.getSuccessMessage(),\n            swapped: this.getSwapped()\n        };\n        return dataset;\n    }\n\n    /* c8 ignore start */\n    createDOM() {\n        return document.createElement('div');\n    }\n\n    updateDOM() {\n        return false;\n    }\n\n    isInline() {\n        return false;\n    }\n    /* c8 ignore stop */\n\n    getAlignment() {\n        const self = this.getLatest();\n        return self.__alignment;\n    }\n\n    setAlignment(alignment) {\n        const writable = this.getWritable();\n        writable.__alignment = alignment;\n    }\n\n    getBackgroundColor() {\n        const self = this.getLatest();\n        return self.__backgroundColor;\n    }\n\n    setBackgroundColor(backgroundColor) {\n        const writable = this.getWritable();\n        writable.__backgroundColor = backgroundColor;\n    }\n\n    getBackgroundImageSrc() {\n        const self = this.getLatest();\n        return self.__backgroundImageSrc;\n    }\n\n    setBackgroundImageSrc(backgroundImageSrc) {\n        const writable = this.getWritable();\n        writable.__backgroundImageSrc = backgroundImageSrc;\n    }\n\n    getTextColor() {\n        const self = this.getLatest();\n        return self.__textColor;\n    }\n\n    setTextColor(textColor) {\n        const writable = this.getWritable();\n        writable.__textColor = textColor;\n    }\n\n    getButtonColor() {\n        const self = this.getLatest();\n        return self.__buttonColor;\n    }\n\n    setButtonColor(buttonColor) {\n        const writable = this.getWritable();\n        writable.__buttonColor = buttonColor;\n    }\n\n    getButtonTextColor() {\n        const self = this.getLatest();\n        return self.__buttonTextColor;\n    }\n\n    setButtonTextColor(buttonTextColor) {\n        const writable = this.getWritable();\n        writable.__buttonTextColor = buttonTextColor;\n    }\n\n    getButtonText() {\n        const self = this.getLatest();\n        return self.__buttonText;\n    }\n\n    setButtonText(buttonText) {\n        const writable = this.getWritable();\n        writable.__buttonText = buttonText;\n    }\n\n    getDisclaimer() {\n        const self = this.getLatest();\n        return self.__disclaimer;\n    }\n\n    setDisclaimer(disclaimer) {\n        const writable = this.getWritable();\n        writable.__disclaimer = disclaimer;\n    }\n\n    getHeader() {\n        const self = this.getLatest();\n        return self.__header;\n    }\n\n    setHeader(header) {\n        const writable = this.getWritable();\n        writable.__header = header;\n    }\n\n    getLabels() {\n        const self = this.getLatest();\n        return self.__labels;\n    }\n\n    setLabels(labels) {\n        if (!Array.isArray(labels) || !labels.every(item => typeof item === 'string')) {\n            throw new Error('Invalid argument: Expected an array of strings.'); // eslint-disable-line\n        }\n\n        const writable = this.getWritable();\n        writable.__labels = labels;\n    }\n\n    addLabel(label) {\n        const writable = this.getWritable();\n        writable.__labels.push(label);\n    }\n\n    removeLabel(label) {\n        const writable = this.getWritable();\n        writable.__labels = writable.__labels.filter(l => l !== label);\n    }\n\n    getLayout() {\n        const self = this.getLatest();\n        return self.__layout;\n    }\n\n    setLayout(layout) {\n        const writable = this.getWritable();\n        writable.__layout = layout;\n    }\n\n    getSubheader() {\n        const self = this.getLatest();\n        return self.__subheader;\n    }\n\n    setSubheader(subheader) {\n        const writable = this.getWritable();\n        writable.__subheader = subheader;\n    }\n\n    getSuccessMessage() {\n        const self = this.getLatest();\n        return self.__successMessage;\n    }\n\n    setSuccessMessage(successMessage) {\n        const writable = this.getWritable();\n        writable.__successMessage = successMessage;\n    }\n\n    getSwapped() {\n        const self = this.getLatest();\n        return self.__swapped;\n    }\n\n    setSwapped(swapped) {\n        const writable = this.getWritable();\n        writable.__swapped = swapped;\n    }\n\n    hasEditMode() {\n        return true;\n    }\n\n    isEmpty() {\n        return !this.__backgroundColor &&\n            !this.__backgroundImageSrc &&\n            !this.__buttonColor &&\n            !this.__buttonText &&\n            !this.__disclaimer &&\n            !this.__header &&\n            !this.__labels.length &&\n            !this.__subheader &&\n            !this.__successMessage;\n    }\n\n    // should be overridden\n    /* c8 ignore next 3 */\n    decorate() {\n        return '';\n    }\n}\n\nexport const $createSignupNode = (dataset) => {\n    return new SignupNode(dataset);\n};\n\nexport function $isSignupNode(node) {\n    return node instanceof SignupNode;\n}\n","import * as image from './nodes/image/ImageNode';\nimport * as codeblock from './nodes/codeblock/CodeBlockNode';\nimport * as markdown from './nodes/markdown/MarkdownNode';\nimport * as video from './nodes/video/VideoNode';\nimport * as audio from './nodes/audio/AudioNode';\nimport * as callout from './nodes/callout/CalloutNode';\nimport * as aside from './nodes/aside/AsideNode';\nimport * as horizontalrule from './nodes/horizontalrule/HorizontalRuleNode';\nimport * as html from './nodes/html/HtmlNode';\nimport * as toggle from './nodes/toggle/ToggleNode';\nimport * as button from './nodes/button/ButtonNode';\nimport * as bookmark from './nodes/bookmark/BookmarkNode';\nimport * as file from './nodes/file/FileNode';\nimport * as header from './nodes/header/HeaderNode';\nimport * as paywall from './nodes/paywall/PaywallNode';\nimport * as product from './nodes/product/ProductNode';\nimport * as embed from './nodes/embed/EmbedNode';\nimport * as email from './nodes/email/EmailNode';\nimport * as gallery from './nodes/gallery/GalleryNode';\nimport * as emailCta from './nodes/email-cta/EmailCtaNode';\nimport * as signup from './nodes/signup/SignupNode';\n\n// re-export everything for easier importing\nexport * from './KoenigDecoratorNode';\nexport * from './nodes/image/ImageNode';\nexport * from './nodes/image/ImageParser';\nexport * from './nodes/codeblock/CodeBlockNode';\nexport * from './nodes/markdown/MarkdownNode';\nexport * from './nodes/video/VideoNode';\nexport * from './nodes/audio/AudioNode';\nexport * from './nodes/callout/CalloutNode';\nexport * from './nodes/aside/AsideNode';\nexport * from './nodes/horizontalrule/HorizontalRuleNode';\nexport * from './nodes/html/HtmlNode';\nexport * from './nodes/toggle/ToggleNode';\nexport * from './nodes/button/ButtonNode';\nexport * from './nodes/bookmark/BookmarkNode';\nexport * from './nodes/file/FileNode';\nexport * from './nodes/header/HeaderNode';\nexport * from './nodes/paywall/PaywallNode';\nexport * from './nodes/product/ProductNode';\nexport * from './nodes/embed/EmbedNode';\nexport * from './nodes/email/EmailNode';\nexport * from './nodes/gallery/GalleryNode';\nexport * from './nodes/email-cta/EmailCtaNode';\nexport * from './nodes/signup/SignupNode';\n\n// export convenience objects for use elsewhere\nexport const DEFAULT_NODES = [\n    codeblock.CodeBlockNode,\n    image.ImageNode,\n    markdown.MarkdownNode,\n    video.VideoNode,\n    audio.AudioNode,\n    callout.CalloutNode,\n    aside.AsideNode,\n    horizontalrule.HorizontalRuleNode,\n    html.HtmlNode,\n    file.FileNode,\n    toggle.ToggleNode,\n    button.ButtonNode,\n    header.HeaderNode,\n    bookmark.BookmarkNode,\n    paywall.PaywallNode,\n    product.ProductNode,\n    embed.EmbedNode,\n    email.EmailNode,\n    gallery.GalleryNode,\n    emailCta.EmailCtaNode,\n    signup.SignupNode\n];\n"],"names":["KoenigDecoratorNode","DecoratorNode","$isKoenigCard","node","buildCleanBasicHtmlForElement","domNode","_cleanBasicHtml","html","cleanedHtml","cleanBasicHtml","createDocument","_html","newDoc","ownerDocument","implementation","createHTMLDocument","body","innerHTML","readCaptionFromElement","element","selector","arguments","length","undefined","caption","figcaptions","Array","from","querySelectorAll","forEach","figcaption","cleanHtml","readImageAttributesFromElement","attrs","src","width","dataset","parseInt","height","getAttribute","exec","alt","title","parentNode","tagName","href","ImageParser","constructor","NodeClass","DOMConversionMap","self","img","conversion","priority","figure","nodeElem","querySelector","kgClass","className","match","grafClass","payload","cardWidth","getAvailableImageWidths","image","imageSizes","imageWidths","Object","values","map","_ref","sort","a","b","availableImageWidths","filter","push","isLocalContentImage","url","siteUrl","normalizedSiteUrl","replace","imagePath","test","isUnsplashImage","getSrcsetAttribute","options","imageOptimization","srcsets","contentImageSizes","canTransformImage","srcsetWidths","imagesPath","filename","srcs","srcsetWidth","join","unsplashUrl","URL","searchParams","set","setSrcsetAttribute","elem","includes","srcset","setAttribute","resizeImage","desiredWidth","desiredHeight","ratio","resizedHeight","Math","round","resizedWidth","addCreateDocumentOption","document","window","Error","renderImageNodeToDOM","getSrc","trim","createTextNode","createElement","figureClasses","getCardWidth","getAlt","getTitle","getImgWidth","getImgHeight","defaultMaxWidth","imageDimensions","target","imgAttributes","srcWidth","find","getHref","appendChild","getCaption","INSERT_IMAGE_COMMAND","createCommand","UPLOAD_IMAGE_COMMAND","ImageNode","__src","__caption","__title","__alt","__cardWidth","__width","__height","__href","getType","clone","getDataset","__key","urlTransformMap","getLatest","key","importJSON","serializedNode","exportJSON","isBlob","startsWith","type","version","importDOM","parser","exportDOM","createDOM","updateDOM","isInline","setSrc","writable","getWritable","setTitle","setHref","setCardWidth","setImgWidth","setImgHeight","setCaption","setAlt","decorate","$createImageNode","$isImageNode","CodeBlockParser","pre","code","textContent","preClass","codeClass","langRegex","languageMatches","language","toLowerCase","codeElement","children","renderCodeBlockNodeToDOM","getCode","getLanguage","INSERT_CODE_BLOCK_COMMAND","CodeBlockNode","__code","__language","setCode","setLanguage","getTextContent","hasEditMode","isEmpty","$createCodeBlockNode","$isCodeBlockNode","renderMarkdownNodeToDOM","markdownHtmlRenderer","render","getMarkdown","div","INSERT_MARKDOWN_COMMAND","MarkdownNode","__markdown","markdown","setMarkdown","$createMarkdownNode","$isMarkdownNode","VideoParser","isKgVideoCard","classList","contains","videoNode","durationNode","videoSrc","videoWidth","videoHeight","durationText","captionText","loop","minutes","seconds","split","duration","e","kgThumbnail","thumbnailSrc","kgCustomThumbnail","customThumbnailSrc","renderVideoNodeToDOM","cardClasses","getCardClasses","htmlString","emailCardTemplate","cardTemplate","firstElementChild","getVideoWidth","getVideoHeight","posterSpacerSrc","autoplayAttr","getLoop","getCustomThumbnailSrc","getThumbnailSrc","hideControlsClass","getFormattedDuration","_ref2","emailTemplateMaxWidth","aspectRatio","emailSpacerWidth","emailSpacerHeight","outlookCircleLeft","outlookCircleTop","outlookPlayLeft","outlookPlayTop","postUrl","INSERT_VIDEO_COMMAND","NODE_TYPE","VideoNode","__fileName","__mimeType","__duration","__thumbnailSrc","__customThumbnailSrc","__thumbnailWidth","__thumbnailHeight","__loop","fileName","mimeType","thumbnailWidth","thumbnailHeight","getFileName","getMimeType","getDuration","getThumbnailWidth","getThumbnailHeight","setFileName","setMimeType","setVideoWidth","setVideoHeight","floor","paddedSeconds","String","padStart","formattedDuration","setDuration","setThumbnailSrc","setCustomThumbnailSrc","setThumbnailWidth","setThumbnailHeight","setLoop","$createVideoNode","$isVideoNode","AudioParser","isKgAudioCard","titleNode","audioNode","thumbnailNode","audioSrc","renderAudioNodeToDOM","frontendTemplate","thumbnailCls","emptyThumbnailCls","cardDiv","emptyThumbnailDiv","svg","createElementNS","path1","path2","path3","audioPlayerContainer","audioElement","audioTitle","audioPlayer","audioPlayIcon","audioPlayIconSvg","playPath","audioPauseIcon","audioPauseIconSvg","rectSvg","rectSvg2","audioDuration","audioDurationTotal","audioDUrationNode","audioSlider","playbackRate","unmuteIcon","unmuteIconSvg","unmutePath","muteIcon","muteIconSvg","mutePath","volumeSlider","INSERT_AUDIO_COMMAND","AudioNode","$createAudioNode","$isAudioNode","renderCalloutNodeToDOM","add","getBackgroundColor","getCalloutEmoji","emojiElement","textElement","getCalloutText","getColorTag","colorClass","value","CalloutParser","isKgCalloutCard","textNode","emojiNode","color","calloutText","calloutEmoji","backgroundColor","INSERT_CALLOUT_COMMAND","CalloutNode","__calloutText","__calloutEmoji","__backgroundColor","createDom","updateDom","setCalloutText","text","writeable","setBackgroundColor","setCalloutEmoji","emoji","$isCalloutNode","$createCalloutNode","AsideParser","blockquote","isBigQuote","AsideNode","ElementNode","setFormat","format","setIndent","indent","setDirection","direction","$createAsideNode","$isAsideNode","renderHorizontalRuleToDOM","_","hr","HorizontalRuleParser","INSERT_HORIZONTAL_RULE_COMMAND","HorizontalRuleNode","$createHorizontalRuleNode","$isHorizontalRuleNode","renderHtmlNodeToDOM","getHtml","HtmlParser","#comment","isCommentNode","nodeType","nodeValue","nextNode","nextSibling","isHtmlEndComment","currentNode","outerHTML","remove","table","INSERT_HTML_COMMAND","HtmlNode","__html","setHtml","$createHtmlNode","$isHtmlNode","ToggleParser","isKgToggleCard","headingNode","heading","contentNode","content","getContent","getHeading","renderToggleNodeToDOM","INSERT_TOGGLE_COMMAND","ToggleNode","__content","__heading","setContent","setHeading","$createToggleNode","$isToggleNode","ButtonParser","isButtonCard","alignmentClass","alignment","buttonNode","buttonUrl","buttonText","renderButtonNodeToDOM","getButtonUrl","emailTemplate","button","getButtonText","parent","buttonDiv","getAlignment","row","cell","INSERT_BUTTON_COMMAND","ButtonNode","__buttonText","__alignment","__buttonUrl","setButtonText","setAlignment","setButtonUrl","$createButtonNode","$isButtonNode","BookmarkParser","isKgBookmarkCard","icon","description","author","publisher","thumbnail","metadata","anchorElement","titleElement","descElement","imgElement","removeChild","style","renderBookmarkNodeToDOM","getUrl","getPublisher","getAuthor","getIconSrc","getDescription","getThumbnail","card","cardClass","container","thumbnailDiv","figCaption","INSERT_BOOKMARK_COMMAND","BookmarkNode","__url","__icon","__description","__author","__publisher","__thumbnail","setUrl","setIconSrc","setDescription","setAuthor","setPublisher","setThumbnail","$createBookmarkNode","$isBookmarkNode","renderFileNodeToDOM","contents","getFileTitle","getFileCaption","filesize","getFormattedFileSize","defs","polyline","line","circle","sizeToBytes","size","sizes","sizeParts","sizeNumber","parseFloat","sizeUnit","sizeUnitIndex","indexOf","pow","FileParser","isKgFileCard","link","fileTitle","fileCaption","fileSize","INSERT_FILE_COMMAND","bytesToSize","bytes","i","log","FileNode","__fileTitle","__fileCaption","__fileSize","getFileSize","setFileTitle","setFileCaption","setFileSize","$isFileNode","$createFileNode","slugify","str","renderHeaderNodeToDOM","getHeader","getSubheader","getButtonEnabled","templateData","getSize","getStyle","buttonEnabled","Boolean","header","headerSlug","subheader","subheaderSlug","hasHeader","hasSubheader","backgroundImageStyle","getBackgroundImageSrc","backgroundImageSrc","headerElement","subheaderElement","buttonElement","HeaderParser","isHeaderCard","INSERT_HEADER_COMMAND","HeaderNode","__size","__style","__buttonEnabled","__header","__subheader","__backgroundImageSrc","setSize","setStyle","setButtonEnabled","setHeader","setSubheader","setBackgroundImageSrc","$createHeaderNode","$isHeaderNode","PaywallParser","renderPaywallNodeToDOM","INSERT_PAYWALL_COMMAND","PaywallNode","$createPaywallNode","$isPaywallNode","ProductParser","isKgProductCard","productButtonEnabled","productRatingEnabled","productTitle","productDescription","productImageSrc","productImageWidth","productImageHeight","stars","productStarRating","productButton","productUrl","renderProductNodeToDOM","starIcon","starActiveClasses","getProductStarRating","data","star1","star2","star3","star4","star5","INSERT_PRODUCT_COMMAND","ProductNode","__productImageSrc","__productImageWidth","__productImageHeight","__productTitle","__productDescription","__productRatingEnabled","__productStarRating","__productButtonEnabled","__productButton","__productUrl","getProductImageSrc","getProductImageWidth","getProductImageHeight","getProductTitle","getProductDescription","getProductRatingEnabled","getProductButtonEnabled","getProductButton","getProductUrl","setProductImageSrc","setProductImageWidth","setProductImageHeight","setProductTitle","setProductDescription","setProductRatingEnabled","setProductStarRating","starRating","setProductButtonEnabled","setProductButton","setProductUrl","isButtonFilled","$createProductNode","$isProductNode","EmbedParser","iframe","_createPayloadForIframe","getMetadata","tweetData","tweet_data","isEmail","tweetId","id","numberFormatter","Intl","NumberFormat","notation","unitDisplay","maximumFractionDigits","retweetCount","public_metrics","retweet_count","likeCount","like_count","authorUser","users","user","author_id","tweetTime","DateTime","fromISO","created_at","toLocaleString","TIME_SIMPLE","tweetDate","DATE_MED","mentions","entities","urls","hashtags","concat","start","tweetContent","tweetImageUrl","hasImageOrVideo","attachments","media_keys","media","preview_image_url","hasPoll","poll_ids","last","parts","toArray","entity","slice","end","display_url","username","tag","reduce","partContent","part","profile_image_url","name","renderEmbedNodeToDOM","embedType","getEmbedType","twitterRenderer","renderTemplate","isVideoWithThumbnail","thumbnail_url","thumbnailAspectRatio","thumbnail_width","thumbnail_height","spacerWidth","spacerHeight","INSERT_EMBED_COMMAND","EmbedNode","__embedType","__metadata","setEmbedType","setMetadata","$createEmbedNode","$isEmbedNode","removeSpaces","wrapReplacementStrings","renderEmailNodeToDOM","INSERT_EMAIL_COMMAND","EmailNode","$createEmailNode","$isEmailNode","readGalleryImageAttributesFromElement","imgNum","GalleryParser","imgs","images","isGrafGallery","paragraphCount","nextElementSibling","currentNodeCaption","isSqsGallery","previousElementSibling","getElementsByTagName","prevNode","MAX_IMG_PER_ROW","isValidImage","buildStructure","rows","noOfImages","idx","renderGalleryNodeToDOM","validImages","getImages","rowDiv","imgDiv","newImageDimensions","INSERT_GALLERY_COMMAND","GalleryNode","__images","setImages","$createGalleryNode","$isGalleryNode","escapeHtml","unsafe","renderEmailCtaNodeToDOM","showButton","getShowButton","segment","getSegment","showDividers","getShowDividers","hasButton","buttonTemplate","cleanedButton","INSERT_EMAIL_CTA_COMMAND","EmailCtaNode","__segment","__showButton","__showDividers","setSegment","setShowButton","setShowDividers","$createEmailCtaNode","$isEmailCtaNode","rgbToHex","rgb","r","g","red","toString","green","blue","hex","getLayout","SignupParser","isSignupNode","lexicalSignupForm","layout","disclaimer","buttonColor","buttonTextColor","textColor","successMessage","labels","input","isSwapped","swapped","nodeData","backgroundAccent","buttonAccent","formTemplate","label","loadingIcon","renderSignupCardToDOM","__disclaimer","__buttonColor","__labels","__layout","__textColor","__buttonTextColor","__successMessage","__swapped","h2Element","h3Element","pElement","INSERT_SIGNUP_COMMAND","SignupNode","getTextColor","getButtonColor","getButtonTextColor","getDisclaimer","getLabels","getSuccessMessage","getSwapped","setTextColor","setButtonColor","setButtonTextColor","setDisclaimer","setLabels","isArray","every","item","addLabel","removeLabel","l","setLayout","setSuccessMessage","setSwapped","$createSignupNode","$isSignupNode","DEFAULT_NODES","codeblock","video","audio","callout","aside","horizontalrule","file","toggle","bookmark","paywall","product","embed","email","gallery","emailCta","signup"],"mappings":"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"}